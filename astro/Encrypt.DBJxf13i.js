import{p as Le,r as Jn,s as Fn,b as er,o as tr,e as nr,i as Je,a as rr}from"./props.CL67senT.js";import{b as sr,h as Ht,a as Nt,c as ir,d as Mt,g as or,e as lr,H as ar,f as Ot,s as cr,i as fr,j as hr,k as ur,t as Xe,l as ve,m as ot,r as Ie,n as lt,o as at,p as ge,q as dr,u as Fe,v as ke,w as pr,x as Ce,y as gr,z as _e,A as V,B as et,C as wr,D as yr}from"./render.Btt0sWqP.js";/* empty css                    */function Kt(r,e,t,n,i){var s=r,o="",l;sr(()=>{if(o===(o=e()??"")){Ht&&Nt();return}l!==void 0&&(ur(l),l=void 0),o!==""&&(l=ir(()=>{if(Ht){Mt.data;for(var a=Nt(),f=a;a!==null&&(a.nodeType!==8||a.data!=="");)f=a,a=or(a);if(a===null)throw lr(),ar;Ot(Mt,f),s=cr(a);return}var h=o+"",u=fr(h);Ot(hr(u),u.lastChild),s.before(u)}))})}function _t(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let me=_t();function gn(r){me=r}const wn=/[&<>"']/,xr=new RegExp(wn.source,"g"),yn=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,br=new RegExp(yn.source,"g"),mr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jt=r=>mr[r];function Q(r,e){if(e){if(wn.test(r))return r.replace(xr,jt)}else if(yn.test(r))return r.replace(br,jt);return r}const kr=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function _r(r){return r.replace(kr,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Er=/(^|[^\[])\^/g;function K(r,e){r=typeof r=="string"?r:r.source,e=e||"";const t={replace:(n,i)=>(i=typeof i=="object"&&"source"in i?i.source:i,i=i.replace(Er,"$1"),r=r.replace(n,i),t),getRegex:()=>new RegExp(r,e)};return t}function Pt(r){try{r=encodeURI(r).replace(/%25/g,"%")}catch{return null}return r}const Pe={exec:()=>null};function Dt(r,e){const t=r.replace(/\|/g,(s,o,l)=>{let a=!1,f=o;for(;--f>=0&&l[f]==="\\";)a=!a;return a?"|":" |"}),n=t.split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function qe(r,e,t){const n=r.length;if(n===0)return"";let i=0;for(;i<n&&r.charAt(n-i-1)===e;)i++;return r.slice(0,n-i)}function Ar(r,e){if(r.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<r.length;n++)if(r[n]==="\\")n++;else if(r[n]===e[0])t++;else if(r[n]===e[1]&&(t--,t<0))return n;return-1}function Zt(r,e,t,n){const i=e.href,s=e.title?Q(e.title):null,o=r[1].replace(/\\([\[\]])/g,"$1");if(r[0].charAt(0)!=="!"){n.state.inLink=!0;const l={type:"link",raw:t,href:i,title:s,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}return{type:"image",raw:t,href:i,title:s,text:Q(o)}}function Br(r,e){const t=r.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[o]=s;return o.length>=n.length?i.slice(n.length):i}).join(`
`)}class De{options;rules;lexer;constructor(e){this.options=e||me}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:qe(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],i=Br(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const i=qe(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=qe(t[0].replace(/^ *>[ \t]?/gm,""),`
`),i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(n);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:s,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const i=n.length>1,s={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const o=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l="",a="",f=!1;for(;e;){let h=!1;if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;l=t[0],e=e.substring(l.length);let u=t[2].split(`
`,1)[0].replace(/^\t+/,b=>" ".repeat(3*b.length)),c=e.split(`
`,1)[0],d=0;this.options.pedantic?(d=2,a=u.trimStart()):(d=t[2].search(/[^ ]/),d=d>4?1:d,a=u.slice(d),d+=t[1].length);let g=!1;if(!u&&/^ *$/.test(c)&&(l+=c+`
`,e=e.substring(c.length+1),h=!0),!h){const b=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),C=new RegExp(`^ {0,${Math.min(3,d-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),M=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:\`\`\`|~~~)`),P=new RegExp(`^ {0,${Math.min(3,d-1)}}#`);for(;e;){const D=e.split(`
`,1)[0];if(c=D,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),M.test(c)||P.test(c)||b.test(c)||C.test(e))break;if(c.search(/[^ ]/)>=d||!c.trim())a+=`
`+c.slice(d);else{if(g||u.search(/[^ ]/)>=4||M.test(u)||P.test(u)||C.test(u))break;a+=`
`+c}!g&&!c.trim()&&(g=!0),l+=D+`
`,e=e.substring(D.length+1),u=c.slice(d)}}s.loose||(f?s.loose=!0:/\n *\n *$/.test(l)&&(f=!0));let p=null,w;this.options.gfm&&(p=/^\[[ xX]\] /.exec(a),p&&(w=p[0]!=="[ ] ",a=a.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:l,task:!!p,checked:w,loose:!1,text:a,tokens:[]}),s.raw+=l}s.items[s.items.length-1].raw=l.trimEnd(),s.items[s.items.length-1].text=a.trimEnd(),s.raw=s.raw.trimEnd();for(let h=0;h<s.items.length;h++)if(this.lexer.state.top=!1,s.items[h].tokens=this.lexer.blockTokens(s.items[h].text,[]),!s.loose){const u=s.items[h].tokens.filter(d=>d.type==="space"),c=u.length>0&&u.some(d=>/\n.*\n/.test(d.raw));s.loose=c}if(s.loose)for(let h=0;h<s.items.length;h++)s.items[h].loose=!0;return s}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(t){if(!/[:|]/.test(t[2]))return;const n={type:"table",raw:t[0],header:Dt(t[1]).map(i=>({text:i,tokens:[]})),align:t[2].replace(/^\||\| *$/g,"").split("|"),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){let i=n.align.length,s,o,l,a;for(s=0;s<i;s++){const f=n.align[s];f&&(/^ *-+: *$/.test(f)?n.align[s]="right":/^ *:-+: *$/.test(f)?n.align[s]="center":/^ *:-+ *$/.test(f)?n.align[s]="left":n.align[s]=null)}for(i=n.rows.length,s=0;s<i;s++)n.rows[s]=Dt(n.rows[s],n.header.length).map(f=>({text:f,tokens:[]}));for(i=n.header.length,o=0;o<i;o++)n.header[o].tokens=this.lexer.inline(n.header[o].text);for(i=n.rows.length,o=0;o<i;o++)for(a=n.rows[o],l=0;l<a.length;l++)a[l].tokens=this.lexer.inline(a[l].text);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Q(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const o=qe(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{const o=Ar(t[2],"()");if(o>-1){const a=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let i=t[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),Zt(t,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let i=(n[2]||n[1]).replace(/\s+/g," ");if(i=t[i.toLowerCase()],!i){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Zt(n,i,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const o=[...i[0]].length-1;let l,a,f=o,h=0;const u=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+o);(i=u.exec(t))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(a=[...l].length,i[3]||i[4]){f+=a;continue}else if((i[5]||i[6])&&o%3&&!((o+a)%3)){h+=a;continue}if(f-=a,f>0)continue;a=Math.min(a,a+f+h);const c=[...i[0]][0].length,d=e.slice(0,o+i.index+c+a);if(Math.min(o,a)%2){const p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}const g=d.slice(2,-2);return{type:"strong",raw:d,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const i=/[^ ]/.test(n),s=/^ /.test(n)&&/ $/.test(n);return i&&s&&(n=n.substring(1,n.length-1)),n=Q(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,i;return t[2]==="@"?(n=Q(t[1]),i="mailto:"+n):(n=Q(t[1]),i=n),{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,i;if(t[2]==="@")n=Q(t[0]),i="mailto:"+n;else{let s;do s=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0];while(s!==t[0]);n=Q(t[0]),t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let n;return this.lexer.state.inRawBlock?n=t[0]:n=Q(t[0]),{type:"text",raw:t[0],text:n}}}}const k={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Pe,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};k._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;k._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;k.def=K(k.def).replace("label",k._label).replace("title",k._title).getRegex();k.bullet=/(?:[*+-]|\d{1,9}[.)])/;k.listItemStart=K(/^( *)(bull) */).replace("bull",k.bullet).getRegex();k.list=K(k.list).replace(/bull/g,k.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+k.def.source+")").getRegex();k._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";k._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;k.html=K(k.html,"i").replace("comment",k._comment).replace("tag",k._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();k.lheading=K(k.lheading).replace(/bull/g,k.bullet).getRegex();k.paragraph=K(k._paragraph).replace("hr",k.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k._tag).getRegex();k.blockquote=K(k.blockquote).replace("paragraph",k.paragraph).getRegex();k.normal={...k};k.gfm={...k.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};k.gfm.table=K(k.gfm.table).replace("hr",k.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k._tag).getRegex();k.gfm.paragraph=K(k._paragraph).replace("hr",k.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",k.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k._tag).getRegex();k.pedantic={...k.normal,html:K(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",k._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Pe,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:K(k.normal._paragraph).replace("hr",k.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",k.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const y={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Pe,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Pe,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};y._punctuation="\\p{P}$+<=>`^|~";y.punctuation=K(y.punctuation,"u").replace(/punctuation/g,y._punctuation).getRegex();y.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;y.anyPunctuation=/\\[punct]/g;y._escapes=/\\([punct])/g;y._comment=K(k._comment).replace("(?:-->|$)","-->").getRegex();y.emStrong.lDelim=K(y.emStrong.lDelim,"u").replace(/punct/g,y._punctuation).getRegex();y.emStrong.rDelimAst=K(y.emStrong.rDelimAst,"gu").replace(/punct/g,y._punctuation).getRegex();y.emStrong.rDelimUnd=K(y.emStrong.rDelimUnd,"gu").replace(/punct/g,y._punctuation).getRegex();y.anyPunctuation=K(y.anyPunctuation,"gu").replace(/punct/g,y._punctuation).getRegex();y._escapes=K(y._escapes,"gu").replace(/punct/g,y._punctuation).getRegex();y._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;y._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;y.autolink=K(y.autolink).replace("scheme",y._scheme).replace("email",y._email).getRegex();y._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;y.tag=K(y.tag).replace("comment",y._comment).replace("attribute",y._attribute).getRegex();y._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;y._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;y._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;y.link=K(y.link).replace("label",y._label).replace("href",y._href).replace("title",y._title).getRegex();y.reflink=K(y.reflink).replace("label",y._label).replace("ref",k._label).getRegex();y.nolink=K(y.nolink).replace("ref",k._label).getRegex();y.reflinkSearch=K(y.reflinkSearch,"g").replace("reflink",y.reflink).replace("nolink",y.nolink).getRegex();y.normal={...y};y.pedantic={...y.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:K(/^!?\[(label)\]\((.*?)\)/).replace("label",y._label).getRegex(),reflink:K(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",y._label).getRegex()};y.gfm={...y.normal,escape:K(y.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};y.gfm.url=K(y.gfm.url,"i").replace("email",y.gfm._extended_email).getRegex();y.breaks={...y.gfm,br:K(y.br).replace("{2,}","*").getRegex(),text:K(y.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class ie{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||me,this.options.tokenizer=this.options.tokenizer||new De,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:k.normal,inline:y.normal};this.options.pedantic?(t.block=k.pedantic,t.inline=y.pedantic):this.options.gfm&&(t.block=k.gfm,this.options.breaks?t.inline=y.breaks:t.inline=y.gfm),this.tokenizer.rules=t}static get rules(){return{block:k,inline:y}}static lex(e,t){return new ie(t).lex(e)}static lexInline(e,t){return new ie(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,a,f)=>a+"    ".repeat(f.length));let n,i,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(n=l.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const a=e.slice(1);let f;this.options.extensions.startBlock.forEach(h=>{f=h.call({lexer:this},a),typeof f=="number"&&f>=0&&(l=Math.min(l,f))}),l<1/0&&l>=0&&(s=e.substring(0,l+1))}if(this.state.top&&(n=this.tokenizer.paragraph(s))){i=t[t.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),o=s.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&i.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,i,s,o=e,l,a,f;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)h.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,l.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(f=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(n=h.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),i=t[t.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,o,f)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),t.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const u=e.slice(1);let c;this.options.extensions.startInline.forEach(d=>{c=d.call({lexer:this},u),typeof c=="number"&&c>=0&&(h=Math.min(h,c))}),h<1/0&&h>=0&&(s=e.substring(0,h+1))}if(n=this.tokenizer.inlineText(s)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(f=n.raw.slice(-1)),a=!0,i=t[t.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return t}}class Ze{options;constructor(e){this.options=e||me}code(e,t,n){const i=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+Q(i)+'">'+(n?e:Q(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:Q(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,n){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,n){const i=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e,t,n){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){const i=Pt(e);if(i===null)return n;e=i;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>",s}image(e,t,n){const i=Pt(e);if(i===null)return n;e=i;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${t}"`),s+=">",s}text(e){return e}}class Et{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class oe{options;renderer;textRenderer;constructor(e){this.options=e||me,this.options.renderer=this.options.renderer||new Ze,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Et}static parse(e,t){return new oe(t).parse(e)}static parseInline(e,t){return new oe(t).parseInline(e)}parse(e,t=!0){let n="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=s,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){n+=l||"";continue}}switch(s.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{const o=s;n+=this.renderer.heading(this.parseInline(o.tokens),o.depth,_r(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{const o=s;n+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{const o=s;let l="",a="";for(let h=0;h<o.header.length;h++)a+=this.renderer.tablecell(this.parseInline(o.header[h].tokens),{header:!0,align:o.align[h]});l+=this.renderer.tablerow(a);let f="";for(let h=0;h<o.rows.length;h++){const u=o.rows[h];a="";for(let c=0;c<u.length;c++)a+=this.renderer.tablecell(this.parseInline(u[c].tokens),{header:!1,align:o.align[c]});f+=this.renderer.tablerow(a)}n+=this.renderer.table(l,f);continue}case"blockquote":{const o=s,l=this.parse(o.tokens);n+=this.renderer.blockquote(l);continue}case"list":{const o=s,l=o.ordered,a=o.start,f=o.loose;let h="";for(let u=0;u<o.items.length;u++){const c=o.items[u],d=c.checked,g=c.task;let p="";if(c.task){const w=this.renderer.checkbox(!!d);f?c.tokens.length>0&&c.tokens[0].type==="paragraph"?(c.tokens[0].text=w+" "+c.tokens[0].text,c.tokens[0].tokens&&c.tokens[0].tokens.length>0&&c.tokens[0].tokens[0].type==="text"&&(c.tokens[0].tokens[0].text=w+" "+c.tokens[0].tokens[0].text)):c.tokens.unshift({type:"text",text:w+" "}):p+=w+" "}p+=this.parse(c.tokens,f),h+=this.renderer.listitem(p,g,!!d)}n+=this.renderer.list(h,l,a);continue}case"html":{const o=s;n+=this.renderer.html(o.text,o.block);continue}case"paragraph":{const o=s;n+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=s,l=o.tokens?this.parseInline(o.tokens):o.text;for(;i+1<e.length&&e[i+1].type==="text";)o=e[++i],l+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);n+=t?this.renderer.paragraph(l):l;continue}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=o||"";continue}}switch(s.type){case"escape":{const o=s;n+=t.text(o.text);break}case"html":{const o=s;n+=t.html(o.text);break}case"link":{const o=s;n+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break}case"image":{const o=s;n+=t.image(o.href,o.title,o.text);break}case"strong":{const o=s;n+=t.strong(this.parseInline(o.tokens,t));break}case"em":{const o=s;n+=t.em(this.parseInline(o.tokens,t));break}case"codespan":{const o=s;n+=t.codespan(o.text);break}case"br":{n+=t.br();break}case"del":{const o=s;n+=t.del(this.parseInline(o.tokens,t));break}case"text":{const o=s;n+=t.text(o.text);break}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}}class Me{options;constructor(e){this.options=e||me}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}class vr{defaults=_t();options=this.setOptions;parse=this.#e(ie.lex,oe.parse);parseInline=this.#e(ie.lexInline,oe.parseInline);Parser=oe;Renderer=Ze;TextRenderer=Et;Lexer=ie;Tokenizer=De;Hooks=Me;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const i of e)switch(n=n.concat(t.call(this,i)),i.type){case"table":{const s=i;for(const o of s.header)n=n.concat(this.walkTokens(o.tokens,t));for(const o of s.rows)for(const l of o)n=n.concat(this.walkTokens(l.tokens,t));break}case"list":{const s=i;n=n.concat(this.walkTokens(s.items,t));break}default:{const s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(o=>{n=n.concat(this.walkTokens(s[o],t))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=t.renderers[s.name];o?t.renderers[s.name]=function(...l){let a=s.renderer.apply(this,l);return a===!1&&(a=o.apply(this,l)),a}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=t[s.level];o?o.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),i.extensions=t),n.renderer){const s=this.defaults.renderer||new Ze(this.defaults);for(const o in n.renderer){const l=n.renderer[o],a=o,f=s[a];s[a]=(...h)=>{let u=l.apply(s,h);return u===!1&&(u=f.apply(s,h)),u||""}}i.renderer=s}if(n.tokenizer){const s=this.defaults.tokenizer||new De(this.defaults);for(const o in n.tokenizer){const l=n.tokenizer[o],a=o,f=s[a];s[a]=(...h)=>{let u=l.apply(s,h);return u===!1&&(u=f.apply(s,h)),u}}i.tokenizer=s}if(n.hooks){const s=this.defaults.hooks||new Me;for(const o in n.hooks){const l=n.hooks[o],a=o,f=s[a];Me.passThroughHooks.has(o)?s[a]=h=>{if(this.defaults.async)return Promise.resolve(l.call(s,h)).then(c=>f.call(s,c));const u=l.call(s,h);return f.call(s,u)}:s[a]=(...h)=>{let u=l.apply(s,h);return u===!1&&(u=f.apply(s,h)),u}}i.hooks=s}if(n.walkTokens){const s=this.defaults.walkTokens,o=n.walkTokens;i.walkTokens=function(l){let a=[];return a.push(o.call(this,l)),s&&(a=a.concat(s.call(this,l))),a}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return ie.lex(e,t??this.defaults)}parser(e,t){return oe.parse(e,t??this.defaults)}#e(e,t){return(n,i)=>{const s={...i},o={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const l=this.#t(!!o.silent,!!o.async);if(typeof n>"u"||n===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then(a=>e(a,o)).then(a=>o.walkTokens?Promise.all(this.walkTokens(a,o.walkTokens)).then(()=>a):a).then(a=>t(a,o)).then(a=>o.hooks?o.hooks.postprocess(a):a).catch(l);try{o.hooks&&(n=o.hooks.preprocess(n));const a=e(n,o);o.walkTokens&&this.walkTokens(a,o.walkTokens);let f=t(a,o);return o.hooks&&(f=o.hooks.postprocess(f)),f}catch(a){return l(a)}}}#t(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+Q(n.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(n);throw n}}}const ye=new vr;function O(r,e){return ye.parse(r,e)}O.options=O.setOptions=function(r){return ye.setOptions(r),O.defaults=ye.defaults,gn(O.defaults),O};O.getDefaults=_t;O.defaults=me;O.use=function(...r){return ye.use(...r),O.defaults=ye.defaults,gn(O.defaults),O};O.walkTokens=function(r,e){return ye.walkTokens(r,e)};O.parseInline=ye.parseInline;O.Parser=oe;O.parser=oe.parse;O.Renderer=Ze;O.TextRenderer=Et;O.Lexer=ie;O.lexer=ie.lex;O.Tokenizer=De;O.Hooks=Me;O.parse=O;O.options;O.setOptions;O.use;O.walkTokens;O.parseInline;oe.parse;ie.lex;var Ir=Xe('<div class="input-wrapper svelte-18kg4x7"><input class="input svelte-18kg4x7" id="text" required> <label class="input-label svelte-18kg4x7" for="text"> </label></div>');function $r(r,e){let t=Le(e,"label",3,""),n=Le(e,"value",15,""),i=Le(e,"type",3,"text");var s=Ir(),o=ve(s);Jn(o);var l=ot(o,2),a=ve(l,!0);Ie(l),Ie(s),lt(()=>{Fn(o,"type",i()),at(a,t())}),er(o,n),ge(r,s)}const Ee=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xn(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function Y(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function pe(r,...e){if(!xn(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function Qe(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Y(r.outputLen),Y(r.blockLen)}function Ve(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function Sr(r,e){pe(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function tt(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function xe(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function Oe(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function se(r,e){return r<<32-e|r>>>e}function H(r,e){return r<<e|r>>>32-e>>>0}const Tr=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Lr(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function Ur(r){for(let e=0;e<r.length;e++)r[e]=Lr(r[e]);return r}const Vt=Tr?r=>r:Ur,bn=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",zr=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function mn(r){if(pe(r),bn)return r.toHex();let e="";for(let t=0;t<r.length;t++)e+=zr[r[t]];return e}const fe={_0:48,_9:57,A:65,F:70,a:97,f:102};function Gt(r){if(r>=fe._0&&r<=fe._9)return r-fe._0;if(r>=fe.A&&r<=fe.F)return r-(fe.A-10);if(r>=fe.a&&r<=fe.f)return r-(fe.a-10)}function kn(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);if(bn)return Uint8Array.fromHex(r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(t);for(let i=0,s=0;i<t;i++,s+=2){const o=Gt(r.charCodeAt(s)),l=Gt(r.charCodeAt(s+1));if(o===void 0||l===void 0){const a=r[s]+r[s+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+s)}n[i]=o*16+l}return n}function _n(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function ze(r){return typeof r=="string"&&(r=_n(r)),pe(r),r}function Wt(r){return typeof r=="string"&&(r=_n(r)),pe(r),r}function En(r,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(r,e)}class An{}function Rr(r){const e=n=>r().update(ze(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function Cr(r=32){if(Ee&&typeof Ee.getRandomValues=="function")return Ee.getRandomValues(new Uint8Array(r));if(Ee&&typeof Ee.randomBytes=="function")return Uint8Array.from(Ee.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}class Bn extends An{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Qe(e);const n=ze(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),xe(s)}update(e){return Ve(this),this.iHash.update(e),this}digestInto(e){Ve(this),pe(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:l}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=l,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Re=(r,e,t)=>new Bn(r,e).update(t).digest();Re.create=(r,e)=>new Bn(r,e);function qr(r,e,t){return Qe(r),t===void 0&&(t=new Uint8Array(r.outputLen)),Re(r,ze(t),ze(e))}const nt=Uint8Array.from([0]),Xt=Uint8Array.of();function Hr(r,e,t,n=32){Qe(r),Y(n);const i=r.outputLen;if(n>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/i);t===void 0&&(t=Xt);const o=new Uint8Array(s*i),l=Re.create(r,e),a=l._cloneInto(),f=new Uint8Array(l.outputLen);for(let h=0;h<s;h++)nt[0]=h+1,a.update(h===0?Xt:f).update(t).update(nt).digestInto(f),o.set(f,i*h),l._cloneInto(a);return l.destroy(),a.destroy(),xe(f,nt),o.slice(0,n)}const ct=(r,e,t,n,i)=>Hr(r,qr(r,e,t),n,i);function Nr(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),l=Number(t&s),a=n?4:0,f=n?0:4;r.setUint32(e+a,o,n),r.setUint32(e+f,l,n)}function Mr(r,e,t){return r&e^~r&t}function Or(r,e,t){return r&e^r&t^e&t}class Kr extends An{constructor(e,t,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Oe(this.buffer)}update(e){Ve(this),e=ze(e),pe(e);const{view:t,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const l=Math.min(i-this.pos,s-o);if(l===i){const a=Oe(e);for(;i<=s-o;o+=i)this.process(a,o);continue}n.set(e.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ve(this),Sr(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;t[o++]=128,xe(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let u=o;u<i;u++)t[u]=0;Nr(n,i-8,BigInt(this.length*8),s),this.process(n,0);const l=Oe(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=a/4,h=this.get();if(f>h.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<f;u++)l.setUint32(4*u,h[u],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:i,finished:s,destroyed:o,pos:l}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=l,i%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const he=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),jr=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ue=new Uint32Array(64);class Pr extends Kr{constructor(e=32){super(64,e,8,!1),this.A=he[0]|0,this.B=he[1]|0,this.C=he[2]|0,this.D=he[3]|0,this.E=he[4]|0,this.F=he[5]|0,this.G=he[6]|0,this.H=he[7]|0}get(){const{A:e,B:t,C:n,D:i,E:s,F:o,G:l,H:a}=this;return[e,t,n,i,s,o,l,a]}set(e,t,n,i,s,o,l,a){this.A=e|0,this.B=t|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=l|0,this.H=a|0}process(e,t){for(let u=0;u<16;u++,t+=4)ue[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const c=ue[u-15],d=ue[u-2],g=se(c,7)^se(c,18)^c>>>3,p=se(d,17)^se(d,19)^d>>>10;ue[u]=p+ue[u-7]+g+ue[u-16]|0}let{A:n,B:i,C:s,D:o,E:l,F:a,G:f,H:h}=this;for(let u=0;u<64;u++){const c=se(l,6)^se(l,11)^se(l,25),d=h+c+Mr(l,a,f)+jr[u]+ue[u]|0,p=(se(n,2)^se(n,13)^se(n,22))+Or(n,i,s)|0;h=f,f=a,a=l,l=o+d|0,o=s,s=i,i=n,n=d+p|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,l=l+this.E|0,a=a+this.F|0,f=f+this.G|0,h=h+this.H|0,this.set(n,i,s,o,l,a,f,h)}roundClean(){xe(ue)}destroy(){this.set(0,0,0,0,0,0,0,0),xe(this.buffer)}}const At=Rr(()=>new Pr),Ke=At;/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Bt(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function Dr(r,...e){if(!Bt(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function vn(r,e){return Array.isArray(e)?e.length===0?!0:r?e.every(t=>typeof t=="string"):e.every(t=>Number.isSafeInteger(t)):!1}function Zr(r){if(typeof r!="function")throw new Error("function expected");return!0}function be(r,e){if(typeof e!="string")throw new Error(`${r}: string expected`);return!0}function vt(r){if(!Number.isSafeInteger(r))throw new Error(`invalid integer: ${r}`)}function ft(r){if(!Array.isArray(r))throw new Error("array expected")}function Ge(r,e){if(!vn(!0,e))throw new Error(`${r}: array of strings expected`)}function In(r,e){if(!vn(!1,e))throw new Error(`${r}: array of numbers expected`)}function It(...r){const e=s=>s,t=(s,o)=>l=>s(o(l)),n=r.map(s=>s.encode).reduceRight(t,e),i=r.map(s=>s.decode).reduce(t,e);return{encode:n,decode:i}}function $t(r){const e=typeof r=="string"?r.split(""):r,t=e.length;Ge("alphabet",e);const n=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(ft(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=t)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${r}`);return e[s]})),decode:i=>(ft(i),i.map(s=>{be("alphabet.decode",s);const o=n.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${r}`);return o}))}}function St(r=""){return be("join",r),{encode:e=>(Ge("join.decode",e),e.join(r)),decode:e=>(be("join.decode",e),e.split(r))}}function Vr(r,e="="){return vt(r),be("padding",e),{encode(t){for(Ge("padding.encode",t);t.length*r%8;)t.push(e);return t},decode(t){Ge("padding.decode",t);let n=t.length;if(n*r%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&t[n-1]===e;n--)if((n-1)*r%8===0)throw new Error("padding: invalid, string has too much padding");return t.slice(0,n)}}}const $n=(r,e)=>e===0?r:$n(e,r%e),We=(r,e)=>r+(e-$n(r,e)),je=(()=>{let r=[];for(let e=0;e<40;e++)r.push(2**e);return r})();function ht(r,e,t,n){if(ft(r),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(t<=0||t>32)throw new Error(`convertRadix2: wrong to=${t}`);if(We(e,t)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${t} carryBits=${We(e,t)}`);let i=0,s=0;const o=je[e],l=je[t]-1,a=[];for(const f of r){if(vt(f),f>=o)throw new Error(`convertRadix2: invalid data word=${f} from=${e}`);if(i=i<<e|f,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=t;s-=t)a.push((i>>s-t&l)>>>0);const h=je[s];if(h===void 0)throw new Error("invalid carry");i&=h-1}if(i=i<<t-s&l,!n&&s>=e)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&a.push(i>>>0),a}function Tt(r,e=!1){if(vt(r),r<=0||r>32)throw new Error("radix2: bits should be in (0..32]");if(We(8,r)>32||We(r,8)>32)throw new Error("radix2: carry overflow");return{encode:t=>{if(!Bt(t))throw new Error("radix2.encode input should be Uint8Array");return ht(Array.from(t),8,r,!e)},decode:t=>(In("radix2.decode",t),Uint8Array.from(ht(t,r,8,e)))}}function Qt(r){return Zr(r),function(...e){try{return r.apply(null,e)}catch{}}}const Gr=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",Wr=(r,e)=>{be("base64",r);const t=/^[A-Za-z0-9=+/]+$/,n="base64";if(r.length>0&&!t.test(r))throw new Error("invalid base64");return Uint8Array.fromBase64(r,{alphabet:n,lastChunkHandling:"strict"})},Xr=Gr?{encode(r){return Dr(r),r.toBase64()},decode(r){return Wr(r)}}:It(Tt(6),$t("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Vr(6),St("")),Ye=It(Tt(6),$t("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),St("")),ut=It($t("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),St("")),Yt=[996825010,642813549,513874426,1027748829,705979059];function Se(r){const e=r>>25;let t=(r&33554431)<<5;for(let n=0;n<Yt.length;n++)(e>>n&1)===1&&(t^=Yt[n]);return t}function Jt(r,e,t=1){const n=r.length;let i=1;for(let s=0;s<n;s++){const o=r.charCodeAt(s);if(o<33||o>126)throw new Error(`Invalid prefix (${r})`);i=Se(i)^o>>5}i=Se(i);for(let s=0;s<n;s++)i=Se(i)^r.charCodeAt(s)&31;for(let s of e)i=Se(i)^s;for(let s=0;s<6;s++)i=Se(i);return i^=t,ut.encode(ht([i%je[30]],30,5,!1))}function Qr(r){const e=r==="bech32"?1:734539939,t=Tt(5),n=t.decode,i=t.encode,s=Qt(n);function o(u,c,d=90){be("bech32.encode prefix",u),Bt(c)&&(c=Array.from(c)),In("bech32.encode",c);const g=u.length;if(g===0)throw new TypeError(`Invalid prefix length ${g}`);const p=g+7+c.length;if(d!==!1&&p>d)throw new TypeError(`Length ${p} exceeds limit ${d}`);const w=u.toLowerCase(),b=Jt(w,c,e);return`${w}1${ut.encode(c)}${b}`}function l(u,c=90){be("bech32.decode input",u);const d=u.length;if(d<8||c!==!1&&d>c)throw new TypeError(`invalid string length: ${d} (${u}). Expected (8..${c})`);const g=u.toLowerCase();if(u!==g&&u!==u.toUpperCase())throw new Error("String must be lowercase or uppercase");const p=g.lastIndexOf("1");if(p===0||p===-1)throw new Error('Letter "1" must be present between prefix and data only');const w=g.slice(0,p),b=g.slice(p+1);if(b.length<6)throw new Error("Data must be at least 6 characters long");const C=ut.decode(b).slice(0,-6),M=Jt(w,C,e);if(!b.endsWith(M))throw new Error(`Invalid checksum in ${u}: expected "${M}"`);return{prefix:w,words:C}}const a=Qt(l);function f(u){const{prefix:c,words:d}=l(u,!1);return{prefix:c,words:d,bytes:n(d)}}function h(u,c){return o(u,i(c))}return{encode:o,decode:l,encodeFromBytes:h,decodeToBytes:f,decodeUnsafe:a,fromWords:n,fromWordsUnsafe:s,toWords:i}}const Yr=Qr("bech32");function Jr(r,e,t,n){Qe(r);const i=En({dkLen:32,asyncTick:10},n),{c:s,dkLen:o,asyncTick:l}=i;if(Y(s),Y(o),Y(l),s<1)throw new Error("iterations (c) should be >= 1");const a=Wt(e),f=Wt(t),h=new Uint8Array(o),u=Re.create(r,a),c=u._cloneInto().update(f);return{c:s,dkLen:o,asyncTick:l,DK:h,PRF:u,PRFSalt:c}}function Fr(r,e,t,n,i){return r.destroy(),e.destroy(),n&&n.destroy(),xe(i),t}function Sn(r,e,t,n){const{c:i,dkLen:s,DK:o,PRF:l,PRFSalt:a}=Jr(r,e,t,n);let f;const h=new Uint8Array(4),u=Oe(h),c=new Uint8Array(l.outputLen);for(let d=1,g=0;g<s;d++,g+=l.outputLen){const p=o.subarray(g,g+l.outputLen);u.setInt32(0,d,!1),(f=a._cloneInto(f)).update(h).digestInto(c),p.set(c.subarray(0,p.length));for(let w=1;w<i;w++){l._cloneInto(f).update(c).digestInto(c);for(let b=0;b<p.length;b++)p[b]^=c[b]}}return Fr(l,a,o,f,c)}function Ft(r,e,t,n,i,s){let o=r[e++]^t[n++],l=r[e++]^t[n++],a=r[e++]^t[n++],f=r[e++]^t[n++],h=r[e++]^t[n++],u=r[e++]^t[n++],c=r[e++]^t[n++],d=r[e++]^t[n++],g=r[e++]^t[n++],p=r[e++]^t[n++],w=r[e++]^t[n++],b=r[e++]^t[n++],C=r[e++]^t[n++],M=r[e++]^t[n++],P=r[e++]^t[n++],D=r[e++]^t[n++],z=o,L=l,q=a,E=f,I=h,S=u,R=c,m=d,_=g,A=p,T=w,B=b,v=C,x=M,$=P,U=D;for(let j=0;j<8;j+=2)I^=H(z+v|0,7),_^=H(I+z|0,9),v^=H(_+I|0,13),z^=H(v+_|0,18),A^=H(S+L|0,7),x^=H(A+S|0,9),L^=H(x+A|0,13),S^=H(L+x|0,18),$^=H(T+R|0,7),q^=H($+T|0,9),R^=H(q+$|0,13),T^=H(R+q|0,18),E^=H(U+B|0,7),m^=H(E+U|0,9),B^=H(m+E|0,13),U^=H(B+m|0,18),L^=H(z+E|0,7),q^=H(L+z|0,9),E^=H(q+L|0,13),z^=H(E+q|0,18),R^=H(S+I|0,7),m^=H(R+S|0,9),I^=H(m+R|0,13),S^=H(I+m|0,18),B^=H(T+A|0,7),_^=H(B+T|0,9),A^=H(_+B|0,13),T^=H(A+_|0,18),v^=H(U+$|0,7),x^=H(v+U|0,9),$^=H(x+v|0,13),U^=H($+x|0,18);i[s++]=o+z|0,i[s++]=l+L|0,i[s++]=a+q|0,i[s++]=f+E|0,i[s++]=h+I|0,i[s++]=u+S|0,i[s++]=c+R|0,i[s++]=d+m|0,i[s++]=g+_|0,i[s++]=p+A|0,i[s++]=w+T|0,i[s++]=b+B|0,i[s++]=C+v|0,i[s++]=M+x|0,i[s++]=P+$|0,i[s++]=D+U|0}function rt(r,e,t,n,i){let s=n+0,o=n+16*i;for(let l=0;l<16;l++)t[o+l]=r[e+(2*i-1)*16+l];for(let l=0;l<i;l++,s+=16,e+=16)Ft(t,o,r,e,t,s),l>0&&(o+=16),Ft(t,s,r,e+=16,t,o)}function es(r,e,t){const n=En({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:i,r:s,p:o,dkLen:l,asyncTick:a,maxmem:f,onProgress:h}=n;if(Y(i),Y(s),Y(o),Y(l),Y(a),Y(f),h!==void 0&&typeof h!="function")throw new Error("progressCb should be function");const u=128*s,c=u/4,d=Math.pow(2,32);if(i<=1||(i&i-1)!==0||i>d)throw new Error("Scrypt: N must be larger than 1, a power of 2, and less than 2^32");if(o<0||o>(d-1)*32/u)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(l<0||l>(d-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");if(u*(i+o)>f)throw new Error("Scrypt: memused is bigger than maxMem. Expected 128 * r * (N + p) > maxmem of "+f);const p=Sn(At,r,e,{c:1,dkLen:u*o}),w=tt(p),b=tt(new Uint8Array(u*i)),C=tt(new Uint8Array(u));let M=()=>{};if(h){const P=2*i*o,D=Math.max(Math.floor(P/1e4),1);let z=0;M=()=>{z++,h&&(!(z%D)||z===P)&&h(z/P)}}return{N:i,r:s,p:o,dkLen:l,blockSize32:c,V:b,B32:w,B:p,tmp:C,blockMixCb:M,asyncTick:a}}function ts(r,e,t,n,i){const s=Sn(At,r,t,{c:1,dkLen:e});return xe(t,n,i),s}function ns(r,e,t){const{N:n,r:i,p:s,dkLen:o,blockSize32:l,V:a,B32:f,B:h,tmp:u,blockMixCb:c}=es(r,e,t);Vt(f);for(let d=0;d<s;d++){const g=l*d;for(let p=0;p<l;p++)a[p]=f[g+p];for(let p=0,w=0;p<n-1;p++)rt(a,w,a,w+=l,i),c();rt(a,(n-1)*l,f,g,i),c();for(let p=0;p<n;p++){const w=f[g+l-16]%n;for(let b=0;b<l;b++)u[b]=f[g+b]^a[w*l+b];rt(u,0,f,g,i),c()}}return Vt(f),ts(r,o,h,a,u)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function Tn(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function dt(r){if(typeof r!="boolean")throw new Error(`boolean expected, not ${r}`)}function st(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function G(r,...e){if(!Tn(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function en(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function rs(r,e){G(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function de(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function $e(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function ss(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}const is=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function os(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function pt(r){if(typeof r=="string")r=os(r);else if(Tn(r))r=gt(r);else throw new Error("Uint8Array expected, got "+typeof r);return r}function ls(r,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(r,e)}function as(r,e){if(r.length!==e.length)return!1;let t=0;for(let n=0;n<r.length;n++)t|=r[n]^e[n];return t===0}const cs=(r,e)=>{function t(n,...i){if(G(n),!is)throw new Error("Non little-endian hardware is not yet supported");if(r.nonceLength!==void 0){const h=i[0];if(!h)throw new Error("nonce / iv required");r.varSizeNonce?G(h):G(h,r.nonceLength)}const s=r.tagLength;s&&i[1]!==void 0&&G(i[1]);const o=e(n,...i),l=(h,u)=>{if(u!==void 0){if(h!==2)throw new Error("cipher output not supported");G(u)}};let a=!1;return{encrypt(h,u){if(a)throw new Error("cannot encrypt() twice with same key + nonce");return a=!0,G(h),l(o.encrypt.length,u),o.encrypt(h,u)},decrypt(h,u){if(G(h),s&&h.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return l(o.decrypt.length,u),o.decrypt(h,u)}}}return Object.assign(t,r),t};function tn(r,e,t=!0){if(e===void 0)return new Uint8Array(r);if(e.length!==r)throw new Error("invalid output length, expected "+r+", got: "+e.length);if(t&&!hs(e))throw new Error("invalid output, must be aligned");return e}function nn(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),l=Number(t&s),a=4,f=0;r.setUint32(e+a,o,n),r.setUint32(e+f,l,n)}function fs(r,e,t){dt(t);const n=new Uint8Array(16),i=ss(n);return nn(i,0,BigInt(e),t),nn(i,8,BigInt(r),t),n}function hs(r){return r.byteOffset%4===0}function gt(r){return Uint8Array.from(r)}const Ln=r=>Uint8Array.from(r.split("").map(e=>e.charCodeAt(0))),us=Ln("expand 16-byte k"),ds=Ln("expand 32-byte k"),ps=de(us),gs=de(ds);function N(r,e){return r<<e|r>>>32-e}function wt(r){return r.byteOffset%4===0}const He=64,ws=16,Un=2**32-1,rn=new Uint32Array;function ys(r,e,t,n,i,s,o,l){const a=i.length,f=new Uint8Array(He),h=de(f),u=wt(i)&&wt(s),c=u?de(i):rn,d=u?de(s):rn;for(let g=0;g<a;o++){if(r(e,t,n,h,o,l),o>=Un)throw new Error("arx: counter overflow");const p=Math.min(He,a-g);if(u&&p===He){const w=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let b=0,C;b<ws;b++)C=w+b,d[C]=c[C]^h[b];g+=He;continue}for(let w=0,b;w<p;w++)b=g+w,s[b]=i[b]^f[w];g+=p}}function xs(r,e){const{allowShortKeys:t,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=ls({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof r!="function")throw new Error("core must be a function");return st(i),st(o),dt(s),dt(t),(l,a,f,h,u=0)=>{G(l),G(a),G(f);const c=f.length;if(h===void 0&&(h=new Uint8Array(c)),G(h),st(u),u<0||u>=Un)throw new Error("arx: counter overflow");if(h.length<c)throw new Error(`arx: output (${h.length}) is shorter than data (${c})`);const d=[];let g=l.length,p,w;if(g===32)d.push(p=gt(l)),w=gs;else if(g===16&&t)p=new Uint8Array(32),p.set(l),p.set(l,16),w=ps,d.push(p);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);wt(a)||d.push(a=gt(a));const b=de(p);if(n){if(a.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(w,b,de(a.subarray(0,16)),b),a=a.subarray(16)}const C=16-i;if(C!==a.length)throw new Error(`arx: nonce must be ${C} or 16 bytes`);if(C!==12){const P=new Uint8Array(12);P.set(a,s?0:12-a.length),a=P,d.push(a)}const M=de(a);return ys(r,w,b,M,f,h,u,o),$e(...d),h}}const Z=(r,e)=>r[e++]&255|(r[e++]&255)<<8;class bs{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=pt(e),G(e,32);const t=Z(e,0),n=Z(e,2),i=Z(e,4),s=Z(e,6),o=Z(e,8),l=Z(e,10),a=Z(e,12),f=Z(e,14);this.r[0]=t&8191,this.r[1]=(t>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|l<<2)&8191,this.r[7]=(l>>>11|a<<5)&8065,this.r[8]=(a>>>8|f<<8)&8191,this.r[9]=f>>>5&127;for(let h=0;h<8;h++)this.pad[h]=Z(e,16+2*h)}process(e,t,n=!1){const i=n?0:2048,{h:s,r:o}=this,l=o[0],a=o[1],f=o[2],h=o[3],u=o[4],c=o[5],d=o[6],g=o[7],p=o[8],w=o[9],b=Z(e,t+0),C=Z(e,t+2),M=Z(e,t+4),P=Z(e,t+6),D=Z(e,t+8),z=Z(e,t+10),L=Z(e,t+12),q=Z(e,t+14);let E=s[0]+(b&8191),I=s[1]+((b>>>13|C<<3)&8191),S=s[2]+((C>>>10|M<<6)&8191),R=s[3]+((M>>>7|P<<9)&8191),m=s[4]+((P>>>4|D<<12)&8191),_=s[5]+(D>>>1&8191),A=s[6]+((D>>>14|z<<2)&8191),T=s[7]+((z>>>11|L<<5)&8191),B=s[8]+((L>>>8|q<<8)&8191),v=s[9]+(q>>>5|i),x=0,$=x+E*l+I*(5*w)+S*(5*p)+R*(5*g)+m*(5*d);x=$>>>13,$&=8191,$+=_*(5*c)+A*(5*u)+T*(5*h)+B*(5*f)+v*(5*a),x+=$>>>13,$&=8191;let U=x+E*a+I*l+S*(5*w)+R*(5*p)+m*(5*g);x=U>>>13,U&=8191,U+=_*(5*d)+A*(5*c)+T*(5*u)+B*(5*h)+v*(5*f),x+=U>>>13,U&=8191;let j=x+E*f+I*a+S*l+R*(5*w)+m*(5*p);x=j>>>13,j&=8191,j+=_*(5*g)+A*(5*d)+T*(5*c)+B*(5*u)+v*(5*h),x+=j>>>13,j&=8191;let X=x+E*h+I*f+S*a+R*l+m*(5*w);x=X>>>13,X&=8191,X+=_*(5*p)+A*(5*g)+T*(5*d)+B*(5*c)+v*(5*u),x+=X>>>13,X&=8191;let le=x+E*u+I*h+S*f+R*a+m*l;x=le>>>13,le&=8191,le+=_*(5*w)+A*(5*p)+T*(5*g)+B*(5*d)+v*(5*c),x+=le>>>13,le&=8191;let te=x+E*c+I*u+S*h+R*f+m*a;x=te>>>13,te&=8191,te+=_*l+A*(5*w)+T*(5*p)+B*(5*g)+v*(5*d),x+=te>>>13,te&=8191;let ne=x+E*d+I*c+S*u+R*h+m*f;x=ne>>>13,ne&=8191,ne+=_*a+A*l+T*(5*w)+B*(5*p)+v*(5*g),x+=ne>>>13,ne&=8191;let re=x+E*g+I*d+S*c+R*u+m*h;x=re>>>13,re&=8191,re+=_*f+A*a+T*l+B*(5*w)+v*(5*p),x+=re>>>13,re&=8191;let ae=x+E*p+I*g+S*d+R*c+m*u;x=ae>>>13,ae&=8191,ae+=_*h+A*f+T*a+B*l+v*(5*w),x+=ae>>>13,ae&=8191;let ce=x+E*w+I*p+S*g+R*d+m*c;x=ce>>>13,ce&=8191,ce+=_*u+A*h+T*f+B*a+v*l,x+=ce>>>13,ce&=8191,x=(x<<2)+x|0,x=x+$|0,$=x&8191,x=x>>>13,U+=x,s[0]=$,s[1]=U,s[2]=j,s[3]=X,s[4]=le,s[5]=te,s[6]=ne,s[7]=re,s[8]=ae,s[9]=ce}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let l=2;l<10;l++)e[l]+=i,i=e[l]>>>13,e[l]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let l=1;l<10;l++)n[l]=e[l]+i,i=n[l]>>>13,n[l]&=8191;n[9]-=8192;let s=(i^1)-1;for(let l=0;l<10;l++)n[l]&=s;s=~s;for(let l=0;l<10;l++)e[l]=e[l]&s|n[l];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+t[0];e[0]=o&65535;for(let l=1;l<8;l++)o=(e[l]+t[l]|0)+(o>>>16)|0,e[l]=o&65535;$e(n)}update(e){en(this),e=pt(e),G(e);const{buffer:t,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}t.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){$e(this.h,this.r,this.buffer,this.pad)}digestInto(e){en(this),rs(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:i}=this;if(i){for(t[i++]=1;i<16;i++)t[i]=0;this.process(t,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}function ms(r){const e=(n,i)=>r(i).update(pt(n)).digest(),t=r(new Uint8Array(32));return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}const ks=ms(r=>new bs(r));function _s(r,e,t,n,i,s=20){let o=r[0],l=r[1],a=r[2],f=r[3],h=e[0],u=e[1],c=e[2],d=e[3],g=e[4],p=e[5],w=e[6],b=e[7],C=i,M=t[0],P=t[1],D=t[2],z=o,L=l,q=a,E=f,I=h,S=u,R=c,m=d,_=g,A=p,T=w,B=b,v=C,x=M,$=P,U=D;for(let X=0;X<s;X+=2)z=z+I|0,v=N(v^z,16),_=_+v|0,I=N(I^_,12),z=z+I|0,v=N(v^z,8),_=_+v|0,I=N(I^_,7),L=L+S|0,x=N(x^L,16),A=A+x|0,S=N(S^A,12),L=L+S|0,x=N(x^L,8),A=A+x|0,S=N(S^A,7),q=q+R|0,$=N($^q,16),T=T+$|0,R=N(R^T,12),q=q+R|0,$=N($^q,8),T=T+$|0,R=N(R^T,7),E=E+m|0,U=N(U^E,16),B=B+U|0,m=N(m^B,12),E=E+m|0,U=N(U^E,8),B=B+U|0,m=N(m^B,7),z=z+S|0,U=N(U^z,16),T=T+U|0,S=N(S^T,12),z=z+S|0,U=N(U^z,8),T=T+U|0,S=N(S^T,7),L=L+R|0,v=N(v^L,16),B=B+v|0,R=N(R^B,12),L=L+R|0,v=N(v^L,8),B=B+v|0,R=N(R^B,7),q=q+m|0,x=N(x^q,16),_=_+x|0,m=N(m^_,12),q=q+m|0,x=N(x^q,8),_=_+x|0,m=N(m^_,7),E=E+I|0,$=N($^E,16),A=A+$|0,I=N(I^A,12),E=E+I|0,$=N($^E,8),A=A+$|0,I=N(I^A,7);let j=0;n[j++]=o+z|0,n[j++]=l+L|0,n[j++]=a+q|0,n[j++]=f+E|0,n[j++]=h+I|0,n[j++]=u+S|0,n[j++]=c+R|0,n[j++]=d+m|0,n[j++]=g+_|0,n[j++]=p+A|0,n[j++]=w+T|0,n[j++]=b+B|0,n[j++]=C+v|0,n[j++]=M+x|0,n[j++]=P+$|0,n[j++]=D+U|0}const Es=xs(_s,{counterRight:!1,counterLength:4,allowShortKeys:!1}),As=new Uint8Array(16),sn=(r,e)=>{r.update(e);const t=e.length%16;t&&r.update(As.subarray(t))},Bs=new Uint8Array(32);function on(r,e,t,n,i){const s=r(e,t,Bs),o=ks.create(s);i&&sn(o,i),sn(o,n);const l=fs(n.length,i?i.length:0,!0);o.update(l);const a=o.digest();return $e(s,l),a}const vs=r=>(e,t,n)=>({encrypt(s,o){const l=s.length;o=tn(l+16,o,!1),o.set(s);const a=o.subarray(0,-16);r(e,t,a,a,1);const f=on(r,e,t,a,n);return o.set(f,l),$e(f),o},decrypt(s,o){o=tn(s.length-16,o,!1);const l=s.subarray(0,-16),a=s.subarray(-16),f=on(r,e,t,l,n);if(!as(a,f))throw new Error("invalid tag");return o.set(s.subarray(0,-16)),r(e,t,o,o,1),$e(f),o}}),yt=cs({blockSize:64,nonceLength:12,tagLength:16},vs(Es));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zn=BigInt(0),ln=BigInt(1);function Rn(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?zn:BigInt("0x"+r)}function Is(r){return Rn(mn(r))}function xt(r){return pe(r),Rn(mn(Uint8Array.from(r).reverse()))}function Cn(r,e){return kn(r.toString(16).padStart(e*2,"0"))}function qn(r,e){return Cn(r,e).reverse()}function an(r,e,t){let n;if(typeof e=="string")try{n=kn(e)}catch(s){throw new Error(r+" must be hex string or Uint8Array, cause: "+s)}else if(xn(e))n=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const i=n.length;if(typeof t=="number"&&i!==t)throw new Error(r+" of length "+t+" expected, got "+i);return n}const it=r=>typeof r=="bigint"&&zn<=r;function $s(r,e,t){return it(r)&&it(e)&&it(t)&&e<=r&&r<t}function cn(r,e,t,n){if(!$s(e,t,n))throw new Error("expected valid "+r+": "+t+" <= n < "+n+", got "+e)}const Ss=r=>(ln<<BigInt(r))-ln;function Ts(r,e,t={}){if(!r||typeof r!="object")throw new Error("expected valid options object");function n(i,s,o){const l=r[i];if(o&&l===void 0)return;const a=typeof l;if(a!==s||l===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${a}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(t).forEach(([i,s])=>n(i,s,!0))}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const W=BigInt(0),J=BigInt(1),we=BigInt(2),Hn=BigInt(3),Nn=BigInt(4),Mn=BigInt(5),Ls=BigInt(7),On=BigInt(8),Us=BigInt(9),Kn=BigInt(16);function F(r,e){const t=r%e;return t>=W?t:e+t}function ee(r,e,t){let n=r;for(;e-- >W;)n*=n,n%=t;return n}function fn(r,e){if(r===W)throw new Error("invert: expected non-zero number");if(e<=W)throw new Error("invert: expected positive modulus, got "+e);let t=F(r,e),n=e,i=W,s=J;for(;t!==W;){const l=n/t,a=n%t,f=i-s*l;n=t,t=a,i=s,s=f}if(n!==J)throw new Error("invert: does not exist");return F(i,e)}function Lt(r,e,t){if(!r.eql(r.sqr(e),t))throw new Error("Cannot find square root")}function jn(r,e){const t=(r.ORDER+J)/Nn,n=r.pow(e,t);return Lt(r,n,e),n}function zs(r,e){const t=(r.ORDER-Mn)/On,n=r.mul(e,we),i=r.pow(n,t),s=r.mul(e,i),o=r.mul(r.mul(s,we),i),l=r.mul(s,r.sub(o,r.ONE));return Lt(r,l,e),l}function Rs(r){const e=Ut(r),t=Pn(r),n=t(e,e.neg(e.ONE)),i=t(e,n),s=t(e,e.neg(n)),o=(r+Ls)/Kn;return(l,a)=>{let f=l.pow(a,o),h=l.mul(f,n);const u=l.mul(f,i),c=l.mul(f,s),d=l.eql(l.sqr(h),a),g=l.eql(l.sqr(u),a);f=l.cmov(f,h,d),h=l.cmov(c,u,g);const p=l.eql(l.sqr(h),a),w=l.cmov(f,h,p);return Lt(l,w,a),w}}function Pn(r){if(r<Hn)throw new Error("sqrt is not defined for small field");let e=r-J,t=0;for(;e%we===W;)e/=we,t++;let n=we;const i=Ut(r);for(;hn(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return jn;let s=i.pow(n,e);const o=(e+J)/we;return function(a,f){if(a.is0(f))return f;if(hn(a,f)!==1)throw new Error("Cannot find square root");let h=t,u=a.mul(a.ONE,s),c=a.pow(f,e),d=a.pow(f,o);for(;!a.eql(c,a.ONE);){if(a.is0(c))return a.ZERO;let g=1,p=a.sqr(c);for(;!a.eql(p,a.ONE);)if(g++,p=a.sqr(p),g===h)throw new Error("Cannot find square root");const w=J<<BigInt(h-g-1),b=a.pow(u,w);h=g,u=a.sqr(b),c=a.mul(c,u),d=a.mul(d,b)}return d}}function Cs(r){return r%Nn===Hn?jn:r%On===Mn?zs:r%Kn===Us?Rs(r):Pn(r)}function qs(r,e,t){if(t<W)throw new Error("invalid exponent, negatives unsupported");if(t===W)return r.ONE;if(t===J)return e;let n=r.ONE,i=e;for(;t>W;)t&J&&(n=r.mul(n,i)),i=r.sqr(i),t>>=J;return n}function Hs(r,e,t=!1){const n=new Array(e.length).fill(t?r.ZERO:void 0),i=e.reduce((o,l,a)=>r.is0(l)?o:(n[a]=o,r.mul(o,l)),r.ONE),s=r.inv(i);return e.reduceRight((o,l,a)=>r.is0(l)?o:(n[a]=r.mul(o,n[a]),r.mul(o,l)),s),n}function hn(r,e){const t=(r.ORDER-J)/we,n=r.pow(e,t),i=r.eql(n,r.ONE),s=r.eql(n,r.ZERO),o=r.eql(n,r.neg(r.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Ns(r,e){e!==void 0&&Y(e);const t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function Ut(r,e,t=!1,n={}){if(r<=W)throw new Error("invalid field: expected ORDER > 0, got "+r);let i,s,o=!1,l;if(typeof e=="object"&&e!=null){if(n.sqrt||t)throw new Error("cannot specify opts in two arguments");const c=e;c.BITS&&(i=c.BITS),c.sqrt&&(s=c.sqrt),typeof c.isLE=="boolean"&&(t=c.isLE),typeof c.modFromBytes=="boolean"&&(o=c.modFromBytes),l=c.allowedLengths}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:a,nByteLength:f}=Ns(r,i);if(f>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let h;const u=Object.freeze({ORDER:r,isLE:t,BITS:a,BYTES:f,MASK:Ss(a),ZERO:W,ONE:J,allowedLengths:l,create:c=>F(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return W<=c&&c<r},is0:c=>c===W,isValidNot0:c=>!u.is0(c)&&u.isValid(c),isOdd:c=>(c&J)===J,neg:c=>F(-c,r),eql:(c,d)=>c===d,sqr:c=>F(c*c,r),add:(c,d)=>F(c+d,r),sub:(c,d)=>F(c-d,r),mul:(c,d)=>F(c*d,r),pow:(c,d)=>qs(u,c,d),div:(c,d)=>F(c*fn(d,r),r),sqrN:c=>c*c,addN:(c,d)=>c+d,subN:(c,d)=>c-d,mulN:(c,d)=>c*d,inv:c=>fn(c,r),sqrt:s||(c=>(h||(h=Cs(r)),h(u,c))),toBytes:c=>t?qn(c,f):Cn(c,f),fromBytes:(c,d=!0)=>{if(l){if(!l.includes(c.length)||c.length>f)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+c.length);const p=new Uint8Array(f);p.set(c,t?0:p.length-c.length),c=p}if(c.length!==f)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+c.length);let g=t?xt(c):Is(c);if(o&&(g=F(g,r)),!d&&!u.isValid(g))throw new Error("invalid field element: outside of range 0..ORDER");return g},invertBatch:c=>Hs(u,c),cmov:(c,d,g)=>g?d:c});return Object.freeze(u)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Te=BigInt(0),Ae=BigInt(1),Ne=BigInt(2);function Ms(r){return Ts(r,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...r})}function Os(r){const e=Ms(r),{P:t,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,l=n==="x25519";if(!l&&n!=="x448")throw new Error("invalid type");const a=o||Cr,f=l?255:448,h=l?32:56,u=BigInt(l?9:5),c=BigInt(l?121665:39081),d=l?Ne**BigInt(254):Ne**BigInt(447),g=l?BigInt(8)*Ne**BigInt(251)-Ae:BigInt(4)*Ne**BigInt(445)-Ae,p=d+g+Ae,w=m=>F(m,t),b=C(u);function C(m){return qn(w(m),h)}function M(m){const _=an("u coordinate",m,h);return l&&(_[31]&=127),w(xt(_))}function P(m){return xt(i(an("scalar",m,h)))}function D(m,_){const A=q(M(_),P(m));if(A===Te)throw new Error("invalid private or public key received");return C(A)}function z(m){return D(m,b)}function L(m,_,A){const T=w(m*(_-A));return _=w(_-T),A=w(A+T),{x_2:_,x_3:A}}function q(m,_){cn("u",m,Te,t),cn("scalar",_,d,p);const A=_,T=m;let B=Ae,v=Te,x=m,$=Ae,U=Te;for(let X=BigInt(f-1);X>=Te;X--){const le=A>>X&Ae;U^=le,{x_2:B,x_3:x}=L(U,B,x),{x_2:v,x_3:$}=L(U,v,$),U=le;const te=B+v,ne=w(te*te),re=B-v,ae=w(re*re),ce=ne-ae,Qn=x+$,Yn=x-$,zt=w(Yn*te),Rt=w(Qn*re),Ct=zt+Rt,qt=zt-Rt;x=w(Ct*Ct),$=w(T*w(qt*qt)),B=w(ne*ae),v=w(ce*(ne+w(c*ce)))}({x_2:B,x_3:x}=L(U,B,x)),{x_2:v,x_3:$}=L(U,v,$);const j=s(v);return w(B*j)}const E={secretKey:h,publicKey:h,seed:h},I=(m=a(h))=>(pe(m,E.seed),m);function S(m){const _=I(m);return{secretKey:_,publicKey:z(_)}}return{keygen:S,getSharedSecret:(m,_)=>D(m,_),getPublicKey:m=>z(m),scalarMult:D,scalarMultBase:z,utils:{randomSecretKey:I,randomPrivateKey:I},GuBytes:b.slice(),lengths:E}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ks=BigInt(1),un=BigInt(2),js=BigInt(3),Ps=BigInt(5),Ds=BigInt(8),Dn=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Zs={p:Dn,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Ds,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Vs(r){const e=BigInt(10),t=BigInt(20),n=BigInt(40),i=BigInt(80),s=Dn,l=r*r%s*r%s,a=ee(l,un,s)*l%s,f=ee(a,Ks,s)*r%s,h=ee(f,Ps,s)*f%s,u=ee(h,e,s)*h%s,c=ee(u,t,s)*u%s,d=ee(c,n,s)*c%s,g=ee(d,i,s)*d%s,p=ee(g,i,s)*d%s,w=ee(p,e,s)*h%s;return{pow_p_5_8:ee(w,un,s)*r%s,b2:l}}function Gs(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const Ws=Ut(Zs.p,{isLE:!0}),bt=(()=>{const r=Ws.ORDER;return Os({P:r,type:"x25519",powPminus2:e=>{const{pow_p_5_8:t,b2:n}=Vs(e);return F(ee(t,js,r)*n,r)},adjustScalarBytes:Gs})})(),Zn=!1;async function Vn(r,e){try{return await r()}catch(t){if(t instanceof ReferenceError||t instanceof DOMException&&t.name==="NotSupportedError")return await e();throw t}}async function Gn(r,e){return await Vn(async()=>{const t=mt(r)?r:await Qs(r),n=await crypto.subtle.importKey("raw",e,{name:"X25519"},Zn,[]);return new Uint8Array(await crypto.subtle.deriveBits({name:"X25519",public:n},t,256))},()=>{if(mt(r))throw new Error("CryptoKey provided but X25519 WebCrypto is not supported");return bt.scalarMult(r,e)})}async function dn(r){return await Vn(async()=>Gn(r,bt.GuBytes),()=>{if(mt(r))throw new Error("CryptoKey provided but X25519 WebCrypto is not supported");return bt.scalarMultBase(r)})}const Xs=new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,110,4,34,4,32]);async function Qs(r){if(r.length!==32)throw new Error("X25519 private key must be 32 bytes");const e=new Uint8Array([...Xs,...r]);return crypto.subtle.importKey("pkcs8",e,{name:"X25519"},Zn,["deriveBits"])}function mt(r){return typeof CryptoKey<"u"&&r instanceof CryptoKey}class Ys{s;transcript=[];buf=new Uint8Array(0);constructor(e){this.s=e.getReader()}async readLine(){const e=[];for(;;){const t=this.buf.indexOf(10);if(t>=0)return e.push(this.buf.subarray(0,t)),this.transcript.push(this.buf.subarray(0,t+1)),this.buf=this.buf.subarray(t+1),Js(Ue(e));this.buf.length>0&&(e.push(this.buf),this.transcript.push(this.buf));const n=await this.s.read();if(n.done)return this.buf=Ue(e),null;this.buf=n.value}}close(){return this.s.releaseLock(),{rest:this.buf,transcript:Ue(this.transcript)}}}function Js(r){return r.forEach(e=>{if(e<32||e>126)throw Error("invalid non-ASCII byte in header")}),new TextDecoder().decode(r)}function Ue(r){const e=r.reduce((i,s)=>i+s.length,0),t=new Uint8Array(e);let n=0;for(const i of r)t.set(i,n),n+=i.length;return t}function Wn(r,...e){return r.pipeThrough(new TransformStream({start(t){for(const n of e)t.enqueue(n)}}))}function pn(r){return new ReadableStream({start(e){e.enqueue(r),e.close()}})}async function Fs(r){if(!(r instanceof ReadableStream))throw new Error("readAll expects a ReadableStream<Uint8Array>");return new Uint8Array(await new Response(r).arrayBuffer())}async function ei(r){if(!(r instanceof ReadableStream))throw new Error("readAllString expects a ReadableStream<Uint8Array>");return await new Response(r).text()}async function ti(r,e){const t=r.getReader(),n=[];let i=0;for(;i<e;){const{done:a,value:f}=await t.read();if(a)throw Error("stream ended before reading "+e+" bytes");n.push(f),i+=f.length}t.releaseLock();const s=Ue(n),o=s.subarray(0,e),l=Wn(r,s.subarray(e));return{data:o,rest:l}}class ni{args;body;constructor(e,t){this.args=e,this.body=t}}async function ri(r){const e=await r.readLine();if(e===null)throw Error("invalid stanza");const t=e.split(" ");if(t.length<2||t.shift()!=="->")return{next:e};for(const s of t)if(s.length===0)throw Error("invalid stanza");const n=[];for(;;){const s=await r.readLine();if(s===null)throw Error("invalid stanza");const o=Ye.decode(s);if(o.length>48)throw Error("invalid stanza");if(n.push(o),o.length<48)break}const i=Ue(n);return{s:new ni(t,i)}}async function si(r){const e=new Ys(r),t=await e.readLine();if(t!=="age-encryption.org/v1")throw Error("invalid version "+(t??"line"));const n=[];for(;;){const{s:i,next:s}=await ri(e);if(i!==void 0){n.push(i);continue}if(!s.startsWith("--- "))throw Error("invalid header");const o=Ye.decode(s.slice(4)),{rest:l,transcript:a}=e.close(),f=a.slice(0,a.length-1-s.length+3);return{stanzas:n,headerNoMAC:f,MAC:o,headerSize:a.length,rest:Wn(r,l)}}}class ii{identity;recipient;constructor(e){if(li(e)){this.identity=e,this.recipient=dn(e);return}const t=Yr.decodeToBytes(e);if(!e.startsWith("AGE-SECRET-KEY-1")||t.prefix.toUpperCase()!=="AGE-SECRET-KEY-"||t.bytes.length!==32)throw Error("invalid identity");this.identity=t.bytes,this.recipient=dn(t.bytes)}async unwrapFileKey(e){for(const t of e){if(t.args.length<1||t.args[0]!=="X25519")continue;if(t.args.length!==2)throw Error("invalid X25519 stanza");const n=Ye.decode(t.args[1]);if(n.length!==32)throw Error("invalid X25519 stanza");const i=await Gn(this.identity,n),s=await this.recipient,o=new Uint8Array(n.length+s.length);o.set(n),o.set(s,n.length);const l=ct(Ke,i,o,"age-encryption.org/v1/X25519",32),a=Xn(t.body,l);if(a!==null)return a}return null}}class oi{passphrase;constructor(e){this.passphrase=e}unwrapFileKey(e){for(const t of e){if(t.args.length<1||t.args[0]!=="scrypt")continue;if(e.length!==1)throw Error("scrypt recipient is not the only one in the header");if(t.args.length!==3||!/^[1-9][0-9]*$/.test(t.args[2]))throw Error("invalid scrypt stanza");const n=Ye.decode(t.args[1]);if(n.length!==16)throw Error("invalid scrypt stanza");const i=Number(t.args[2]);if(i>20)throw Error("scrypt work factor is too high");const s="age-encryption.org/v1/scrypt",o=new Uint8Array(s.length+16);o.set(new TextEncoder().encode(s)),o.set(n,s.length);const l=ns(this.passphrase,o,{N:2**i,r:8,p:1,dkLen:32}),a=Xn(t.body,l);if(a!==null)return a}return null}}function Xn(r,e){if(r.length!==32)throw Error("invalid stanza");const t=new Uint8Array(12);try{return yt(e,t).decrypt(r)}catch{return null}}function li(r){return typeof CryptoKey<"u"&&r instanceof CryptoKey}const Be=16,ai=64*1024,kt=ai+Be;function ci(r){const e=new Uint8Array(12),t=()=>{for(let o=e.length-2;o>=0&&(e[o]++,e[o]===0);o--);};let n=!0;const i=new Uint8Array(kt);let s=0;return new TransformStream({transform(o,l){for(;o.length>0;){if(s===i.length){const f=yt(r,e).decrypt(i);l.enqueue(f),t(),s=0,n=!1}const a=Math.min(i.length-s,o.length);i.set(o.subarray(0,a),s),s+=a,o=o.subarray(a)}},flush(o){e[11]=1;const l=yt(r,e).decrypt(i.subarray(0,s));if(!n&&l.length===0)throw new Error("final chunk is empty");o.enqueue(l)}})}function fi(r){if(r<Be)throw Error("ciphertext is too small");if(r===Be)return 0;const e=Math.floor(r/kt),t=r%kt;if(0<t&&t<=Be)throw Error("ciphertext size is invalid");let n=r;return n-=e*Be,n-=t>0?Be:0,n}function hi(r){const e=r.trim().replaceAll(`\r
`,`
`).split(`
`);if(e.shift()!=="-----BEGIN AGE ENCRYPTED FILE-----")throw Error("invalid header");if(e.pop()!=="-----END AGE ENCRYPTED FILE-----")throw Error("invalid footer");function t(n,i){return n===e.length-1?i.length>0&&i.length<=64&&i.length%4===0:i.length===64}if(!e.every((n,i)=>t(i,n)))throw Error("invalid line length");if(!e.every(n=>/^[A-Za-z0-9+/=]+$/.test(n)))throw Error("invalid base64");return Xr.decode(e.join(""))}class ui{identities=[];addPassphrase(e){this.identities.push(new oi(e))}addIdentity(e){typeof e=="string"||pi(e)?this.identities.push(new ii(e)):this.identities.push(e)}async decrypt(e,t){const n=e instanceof ReadableStream?e:pn(e),{fileKey:i,headerSize:s,rest:o}=await this.decryptHeaderInternal(n),{data:l,rest:a}=await ti(o,16),f=ct(Ke,i,l,"payload",32),h=ci(f),u=a.pipeThrough(h),c=Object.assign(u,{size:d=>fi(d-s-l.length)});return e instanceof ReadableStream?c:t==="text"?await ei(u):await Fs(u)}async decryptHeader(e){return(await this.decryptHeaderInternal(pn(e))).fileKey}async decryptHeaderInternal(e){const t=await si(e),n=await this.unwrapFileKey(t.stanzas);if(n===null)throw Error("no identity matched any of the file's recipients");const i=ct(Ke,n,void 0,"header",32),s=Re(Ke,i,t.headerNoMAC);if(!di(t.MAC,s))throw Error("invalid header HMAC");return{fileKey:n,headerSize:t.headerSize,rest:t.rest}}async unwrapFileKey(e){for(const t of this.identities){const n=await t.unwrapFileKey(e);if(n!==null)return n}return null}}function di(r,e){if(r.length!==e.length)return!1;let t=0;for(let n=0;n<r.length;n++)t|=r[n]^e[n];return t===0}function pi(r){return typeof CryptoKey<"u"&&r instanceof CryptoKey}var gi=Xe('<div class="my-12 flex flex-col items-center"><form class="flex justify-center gap-4 mb-4" style="text-align: center;"><!> <button class="outline px-4 py-2" type="submit">解密</button> <noscript></noscript></form> <pre class="w-full overflow-x-auto text-xs opacity-50" style="text-align: center"> </pre></div>'),wi=Xe('<pre style="text-align: center"> </pre>'),yi=Xe("<!> <!>",1);function ki(r,e){dr(e,!0);let t=Le(e,"content",3,""),n=Le(e,"slug",3,""),i=Fe(""),s=Fe(ke([])),o=Fe(!1);function l(d){const g=/-----BEGIN AGE ENCRYPTED FILE-----[\s\S]*?-----END AGE ENCRYPTED FILE-----/g,p=[];let w=0,b;for(;(b=g.exec(d))!==null;)b.index>w&&p.push({type:"text",content:d.substring(w,b.index),decrypted:null}),p.push({type:"encrypted",content:b[0],decrypted:null}),w=g.lastIndex;return w<d.length&&p.push({type:"text",content:d.substring(w),decrypted:null}),p.length===0&&d&&p.push({type:"text",content:d,decrypted:null}),p}pr(()=>{t()&&_e(s,ke(l(t())))}),tr(()=>{localStorage.getItem(n())&&(_e(i,ke(localStorage.getItem(n()))),_e(i,ke(window.atob(V(i)))),a())});const a=async()=>{if(!V(i))return;const d=new ui;d.addPassphrase(V(i));let g=!1;const p=[...V(s)];for(let w=0;w<p.length;w++){const b=p[w];if(b.type==="encrypted"&&!b.decrypted)try{const C=hi(b.content),M=await d.decrypt(C,"text");p[w]={...b,decrypted:O.parse(M)},g=!0}catch(C){console.error("Decryption failed for segment",w,C)}}g?(_e(s,ke(p)),_e(o,!0),localStorage.setItem(n(),window.btoa(V(i)))):V(i)&&V(s).some(b=>b.type==="encrypted"&&!b.decrypted)&&alert("解密失败，请检查密码")};var f=yi(),h=Ce(f);nr(h,17,()=>V(s),rr,(d,g)=>{var p=et(),w=Ce(p);{var b=M=>{var P=et(),D=Ce(P);Kt(D,()=>O.parse(V(g).content)),ge(M,P)},C=(M,P)=>{{var D=L=>{var q=et(),E=Ce(q);Kt(E,()=>V(g).decrypted),ge(L,q)},z=L=>{var q=gi(),E=ve(q),I=ve(E);$r(I,{type:"password",label:"Password",get value(){return V(i)},set value(m){_e(i,ke(m))}}),wr(4),Ie(E);var S=ot(E,2),R=ve(S,!0);Ie(S),Ie(q),lt(()=>at(R,V(g).content)),yr("submit",E,m=>{m.preventDefault(),a()}),ge(L,q)};Je(M,L=>{V(g).decrypted?L(D):L(z,!1)},P)}};Je(w,M=>{V(g).type==="text"?M(b):M(C,!1)})}ge(d,p)});var u=ot(h,2);{var c=d=>{var g=wi(),p=ve(g,!0);Ie(g),lt(()=>at(p,t())),ge(d,g)};Je(u,d=>{V(s).length===0&&t()&&d(c)})}ge(r,f),gr()}export{ki as default};
