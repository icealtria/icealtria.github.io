import{b as Ht,h as X,a as Ye,E as vr,H as Er,c as Un,r as bt,s as We,d as ze,e as Qe,f as qe,p as mt,U as Ar,g as ge,i as Z,j as Ir,k as Br,I as lt,l as zn,m as en,n as Sr,o as Cn,q as tn,t as Tr,u as $r,v as Lr,w as Rr,x as Nn,y as Ur,z as zr,A as qn,B as Cr,C as Nr,D as qr,F as nn,G as Hr,J as Mr,K as Or,L as Pr,N as Kr,M as Dr,O as jr,P as Zr,Q as Vr,R as Je,S as Gr,T as Xr,V as Hn,W as Yr,X as Wr,Y as Qr,Z as Jr,_ as Fr,$ as xe,a0 as be,a1 as es,a2 as ts,a3 as ns,a4 as rs,a5 as ss,a6 as it,a7 as Te,a8 as kt,a9 as $e,aa as _t,ab as vt,ac as me,ad as ct,ae as Oe,af as is,ag as os,ah as ft,ai as as,aj as ls}from"./render.DxRJJH8P.js";/* empty css                    */const cs="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(cs);function fs(n){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ut(n,e,[t,r]=[0,0]){X&&t===0&&Ye();var i=n,s=null,o=null,a=Ar,l=t>0?vr:0,u=!1;const f=(c,d=!0)=>{u=!0,h(d,c)},h=(c,d)=>{if(a===(a=c))return;let p=!1;if(X&&r!==-1){if(t===0){const w=i.data;w===Er?r=0:w===Un?r=1/0:(r=parseInt(w.substring(1)),r!==r&&(r=a?1/0:-1))}const g=r>t;!!a===g&&(i=bt(),We(i),ze(!1),p=!0,r=-1)}a?(s?Qe(s):d&&(s=qe(()=>d(i))),o&&mt(o,()=>{o=null})):(o?Qe(o):d&&(o=qe(()=>d(i,[t+1,r]))),s&&mt(s,()=>{s=null})),p&&ze(!0)};Ht(()=>{u=!1,e(f),u||h(null,null)},l),X&&(i=ge)}function us(n,e){return e}function hs(n,e,t,r){for(var i=[],s=e.length,o=0;o<s;o++)$r(e[o].e,i,!0);var a=s>0&&i.length===0&&t!==null;if(a){var l=t.parentNode;Lr(l),l.append(t),r.clear(),pe(n,e[0].prev,e[s-1].next)}Rr(i,()=>{for(var u=0;u<s;u++){var f=e[u];a||(r.delete(f.k),pe(n,f.prev,f.next)),Nn(f.e,!a)}})}function ds(n,e,t,r,i,s=null){var o=n,a={flags:e,items:new Map,first:null};X&&Ye();var l=null,u=!1,f=Ir(()=>{var h=t();return Cr(h)?h:h==null?[]:zn(h)});Ht(()=>{var h=Z(f),c=h.length;if(u&&c===0)return;u=c===0;let d=!1;if(X){var p=o.data===Un;p!==(c===0)&&(o=bt(),We(o),ze(!1),d=!0)}if(X){for(var g=null,w,y=0;y<c;y++){if(ge.nodeType===8&&ge.data===Br){o=ge,d=!0,ze(!1);break}var v=h[y],R=r(v,y);w=Mn(ge,a,g,null,v,R,y,i,e,t),a.items.set(R,w),g=w}c>0&&We(bt())}X||ps(h,a,o,i,e,r,t),s!==null&&(c===0?l?Qe(l):l=qe(()=>s(o)):l!==null&&mt(l,()=>{l=null})),d&&ze(!0),Z(f)}),X&&(o=ge)}function ps(n,e,t,r,i,s,o){var a=n.length,l=e.items,u=e.first,f=u,h,c=null,d=[],p=[],g,w,y,v;for(v=0;v<a;v+=1){if(g=n[v],w=s(g,v),y=l.get(w),y===void 0){var R=f?f.e.nodes_start:t;c=Mn(R,e,c,c===null?e.first:c.next,g,w,v,r,i,o),l.set(w,c),d=[],p=[],f=c.next;continue}if(gs(y,g,v),(y.e.f&lt)!==0&&Qe(y.e),y!==f){if(h!==void 0&&h.has(y)){if(d.length<p.length){var q=p[0],E;c=q.prev;var A=d[0],I=d[d.length-1];for(E=0;E<d.length;E+=1)rn(d[E],q,t);for(E=0;E<p.length;E+=1)h.delete(p[E]);pe(e,A.prev,I.next),pe(e,c,A),pe(e,I,q),f=q,c=I,v-=1,d=[],p=[]}else h.delete(y),rn(y,f,t),pe(e,y.prev,y.next),pe(e,y,c===null?e.first:c.next),pe(e,c,y),c=y;continue}for(d=[],p=[];f!==null&&f.k!==w;)(f.e.f&lt)===0&&(h??=new Set).add(f),p.push(f),f=f.next;if(f===null)continue;y=f}d.push(y),c=y,f=y.next}if(f!==null||h!==void 0){for(var z=h===void 0?[]:zn(h);f!==null;)(f.e.f&lt)===0&&z.push(f),f=f.next;var B=z.length;if(B>0){var L=null;hs(e,z,L,l)}}en.first=e.first&&e.first.e,en.last=c&&c.e}function gs(n,e,t,r){Sr(n.v,e),n.i=t}function Mn(n,e,t,r,i,s,o,a,l,u){var f=(l&Ur)!==0,h=(l&zr)===0,c=f?h?Cn(i):tn(i):i,d=(l&Tr)===0?o:tn(o),p={i:d,v:c,k:s,a:null,e:null,prev:t,next:r};try{return p.e=qe(()=>a(n,c,d,u),X),p.e.prev=t&&t.e,p.e.next=r&&r.e,t===null?e.first=p:(t.next=p,t.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function rn(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,i=e?e.e.nodes_start:t,s=n.e.nodes_start;s!==r;){var o=qn(s);i.before(s),s=o}}function pe(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function sn(n,e,t,r,i){var s=n,o="",a;Ht(()=>{if(o===(o=e()??"")){X&&Ye();return}a!==void 0&&(Nn(a),a=void 0),o!==""&&(a=qe(()=>{if(X){ge.data;for(var l=Ye(),u=l;l!==null&&(l.nodeType!==8||l.data!=="");)u=l,l=qn(l);if(l===null)throw Nr(),qr;nn(ge,u),s=We(l);return}var f=o+"",h=Hr(f);nn(Mr(h),h.lastChild),s.before(h)}))})}const ws=Symbol("is custom element"),ys=Symbol("is html");function xs(n){if(X){var e=!1,t=()=>{if(!e){if(e=!0,n.hasAttribute("value")){var r=n.value;Et(n,"value",null),n.value=r}if(n.hasAttribute("checked")){var i=n.checked;Et(n,"checked",null),n.checked=i}}};n.__on_r=t,Or(t),Pr()}}function Et(n,e,t,r){var i=bs(n);X&&(i[e]=n.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&n.nodeName==="LINK")||i[e]!==(i[e]=t)&&(e==="loading"&&(n[jr]=t),t==null?n.removeAttribute(e):typeof t!="string"&&ms(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function bs(n){return n.__attributes??={[ws]:n.nodeName.includes("-"),[ys]:n.namespaceURI===Kr}}var on=new Map;function ms(n){var e=on.get(n.nodeName);if(e)return e;on.set(n.nodeName,e=[]);for(var t,r=n,i=Element.prototype;i!==r;){t=Zr(r);for(var s in t)t[s].set&&e.push(s);r=Dr(r)}return e}function ks(n,e,t=e){Vr(n,"input",r=>{var i=r?n.defaultValue:n.value;if(i=ht(n)?dt(i):i,t(i),i!==(i=e())){var s=n.selectionStart,o=n.selectionEnd;n.value=i??"",o!==null&&(n.selectionStart=s,n.selectionEnd=Math.min(o,n.value.length))}}),(X&&n.defaultValue!==n.value||Je(e)==null&&n.value)&&t(ht(n)?dt(n.value):n.value),Gr(()=>{var r=e();ht(n)&&r===dt(n.value)||n.type==="date"&&!r&&!n.value||r!==n.value&&(n.value=r??"")})}function ht(n){var e=n.type;return e==="number"||e==="range"}function dt(n){return n===""?null:+n}function _s(n){Xr===null&&fs(),Hn(()=>{const e=Je(n);if(typeof e=="function")return e})}let Pe=!1;function vs(n){var e=Pe;try{return Pe=!1,[n(),Pe]}finally{Pe=e}}function Ce(n,e,t,r){var i=(t&ss)!==0,s=!0,o=(t&es)!==0,a=(t&rs)!==0,l=!1,u;o?[u,l]=vs(()=>n[e]):u=n[e];var f=ts in n||ns in n,h=o&&(Yr(n,e)?.set??(f&&e in n&&(E=>n[e]=E)))||void 0,c=r,d=!0,p=!1,g=()=>(p=!0,d&&(d=!1,a?c=Je(r):c=r),c);u===void 0&&r!==void 0&&(h&&s&&Wr(),u=g(),h&&h(u));var w;if(w=()=>{var E=n[e];return E===void 0?g():(d=!0,p=!1,E)},(t&Qr)===0)return w;if(h){var y=n.$$legacy;return function(E,A){return arguments.length>0?((!A||y||l)&&h(A?w():E),E):w()}}var v=!1,R=Cn(u),q=Fr(()=>{var E=w(),A=Z(R);return v?(v=!1,A):R.v=E});return i||(q.equals=Jr),function(E,A){if(arguments.length>0){const I=A?Z(q):o?xe(E):E;return q.equals(I)||(v=!0,be(R,I),p&&c!==void 0&&(c=I),Je(()=>Z(q))),E}return Z(q)}}function Mt(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Ae=Mt();function On(n){Ae=n}const Pn=/[&<>"']/,Es=new RegExp(Pn.source,"g"),Kn=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,As=new RegExp(Kn.source,"g"),Is={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},an=n=>Is[n];function Q(n,e){if(e){if(Pn.test(n))return n.replace(Es,an)}else if(Kn.test(n))return n.replace(As,an);return n}const Bs=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Ss(n){return n.replace(Bs,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Ts=/(^|[^\[])\^/g;function D(n,e){n=typeof n=="string"?n:n.source,e=e||"";const t={replace:(r,i)=>(i=typeof i=="object"&&"source"in i?i.source:i,i=i.replace(Ts,"$1"),n=n.replace(r,i),t),getRegex:()=>new RegExp(n,e)};return t}function ln(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Fe={exec:()=>null};function cn(n,e){const t=n.replace(/\|/g,(s,o,a)=>{let l=!1,u=o;for(;--u>=0&&a[u]==="\\";)l=!l;return l?"|":" |"}),r=t.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function Ke(n,e,t){const r=n.length;if(r===0)return"";let i=0;for(;i<r&&n.charAt(r-i-1)===e;)i++;return n.slice(0,r-i)}function $s(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<n.length;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])t++;else if(n[r]===e[1]&&(t--,t<0))return r;return-1}function fn(n,e,t,r){const i=e.href,s=e.title?Q(e.title):null,o=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:t,href:i,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:i,title:s,text:Q(o)}}function Ls(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const r=t[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[o]=s;return o.length>=r.length?i.slice(r.length):i}).join(`
`)}class et{options;rules;lexer;constructor(e){this.options=e||Ae}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Ke(r,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],i=Ls(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const i=Ke(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=Ke(t[0].replace(/^ *>[ \t]?/gm,""),`
`),i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:s,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const o=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a="",l="",u=!1;for(;e;){let f=!1;if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let h=t[2].split(`
`,1)[0].replace(/^\t+/,y=>" ".repeat(3*y.length)),c=e.split(`
`,1)[0],d=0;this.options.pedantic?(d=2,l=h.trimStart()):(d=t[2].search(/[^ ]/),d=d>4?1:d,l=h.slice(d),d+=t[1].length);let p=!1;if(!h&&/^ *$/.test(c)&&(a+=c+`
`,e=e.substring(c.length+1),f=!0),!f){const y=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),v=new RegExp(`^ {0,${Math.min(3,d-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),R=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:\`\`\`|~~~)`),q=new RegExp(`^ {0,${Math.min(3,d-1)}}#`);for(;e;){const E=e.split(`
`,1)[0];if(c=E,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),R.test(c)||q.test(c)||y.test(c)||v.test(e))break;if(c.search(/[^ ]/)>=d||!c.trim())l+=`
`+c.slice(d);else{if(p||h.search(/[^ ]/)>=4||R.test(h)||q.test(h)||v.test(h))break;l+=`
`+c}!p&&!c.trim()&&(p=!0),a+=E+`
`,e=e.substring(E.length+1),h=c.slice(d)}}s.loose||(u?s.loose=!0:/\n *\n *$/.test(a)&&(u=!0));let g=null,w;this.options.gfm&&(g=/^\[[ xX]\] /.exec(l),g&&(w=g[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:a,task:!!g,checked:w,loose:!1,text:l,tokens:[]}),s.raw+=a}s.items[s.items.length-1].raw=a.trimEnd(),s.items[s.items.length-1].text=l.trimEnd(),s.raw=s.raw.trimEnd();for(let f=0;f<s.items.length;f++)if(this.lexer.state.top=!1,s.items[f].tokens=this.lexer.blockTokens(s.items[f].text,[]),!s.loose){const h=s.items[f].tokens.filter(d=>d.type==="space"),c=h.length>0&&h.some(d=>/\n.*\n/.test(d.raw));s.loose=c}if(s.loose)for(let f=0;f<s.items.length;f++)s.items[f].loose=!0;return s}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:i,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(t){if(!/[:|]/.test(t[2]))return;const r={type:"table",raw:t[0],header:cn(t[1]).map(i=>({text:i,tokens:[]})),align:t[2].replace(/^\||\| *$/g,"").split("|"),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){let i=r.align.length,s,o,a,l;for(s=0;s<i;s++){const u=r.align[s];u&&(/^ *-+: *$/.test(u)?r.align[s]="right":/^ *:-+: *$/.test(u)?r.align[s]="center":/^ *:-+ *$/.test(u)?r.align[s]="left":r.align[s]=null)}for(i=r.rows.length,s=0;s<i;s++)r.rows[s]=cn(r.rows[s],r.header.length).map(u=>({text:u,tokens:[]}));for(i=r.header.length,o=0;o<i;o++)r.header[o].tokens=this.lexer.inline(r.header[o].text);for(i=r.rows.length,o=0;o<i;o++)for(l=r.rows[o],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Q(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=Ke(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=$s(t[2],"()");if(o>-1){const l=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let i=t[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),fn(t,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=t[i.toLowerCase()],!i){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return fn(r,i,r[0],this.lexer)}}emStrong(e,t,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const o=[...i[0]].length-1;let a,l,u=o,f=0;const h=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+o);(i=h.exec(t))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(l=[...a].length,i[3]||i[4]){u+=l;continue}else if((i[5]||i[6])&&o%3&&!((o+l)%3)){f+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+f);const c=[...i[0]][0].length,d=e.slice(0,o+i.index+c+l);if(Math.min(o,l)%2){const g=d.slice(1,-1);return{type:"em",raw:d,text:g,tokens:this.lexer.inlineTokens(g)}}const p=d.slice(2,-2);return{type:"strong",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=Q(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,i;return t[2]==="@"?(r=Q(t[1]),i="mailto:"+r):(r=Q(t[1]),i=r),{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let r,i;if(t[2]==="@")r=Q(t[0]),i="mailto:"+r;else{let s;do s=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0];while(s!==t[0]);r=Q(t[0]),t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let r;return this.lexer.state.inRawBlock?r=t[0]:r=Q(t[0]),{type:"text",raw:t[0],text:r}}}}const k={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Fe,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};k._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;k._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;k.def=D(k.def).replace("label",k._label).replace("title",k._title).getRegex();k.bullet=/(?:[*+-]|\d{1,9}[.)])/;k.listItemStart=D(/^( *)(bull) */).replace("bull",k.bullet).getRegex();k.list=D(k.list).replace(/bull/g,k.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+k.def.source+")").getRegex();k._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";k._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;k.html=D(k.html,"i").replace("comment",k._comment).replace("tag",k._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();k.lheading=D(k.lheading).replace(/bull/g,k.bullet).getRegex();k.paragraph=D(k._paragraph).replace("hr",k.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k._tag).getRegex();k.blockquote=D(k.blockquote).replace("paragraph",k.paragraph).getRegex();k.normal={...k};k.gfm={...k.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};k.gfm.table=D(k.gfm.table).replace("hr",k.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k._tag).getRegex();k.gfm.paragraph=D(k._paragraph).replace("hr",k.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",k.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k._tag).getRegex();k.pedantic={...k.normal,html:D(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",k._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Fe,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:D(k.normal._paragraph).replace("hr",k.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",k.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const x={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Fe,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Fe,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};x._punctuation="\\p{P}$+<=>`^|~";x.punctuation=D(x.punctuation,"u").replace(/punctuation/g,x._punctuation).getRegex();x.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;x.anyPunctuation=/\\[punct]/g;x._escapes=/\\([punct])/g;x._comment=D(k._comment).replace("(?:-->|$)","-->").getRegex();x.emStrong.lDelim=D(x.emStrong.lDelim,"u").replace(/punct/g,x._punctuation).getRegex();x.emStrong.rDelimAst=D(x.emStrong.rDelimAst,"gu").replace(/punct/g,x._punctuation).getRegex();x.emStrong.rDelimUnd=D(x.emStrong.rDelimUnd,"gu").replace(/punct/g,x._punctuation).getRegex();x.anyPunctuation=D(x.anyPunctuation,"gu").replace(/punct/g,x._punctuation).getRegex();x._escapes=D(x._escapes,"gu").replace(/punct/g,x._punctuation).getRegex();x._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;x._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;x.autolink=D(x.autolink).replace("scheme",x._scheme).replace("email",x._email).getRegex();x._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;x.tag=D(x.tag).replace("comment",x._comment).replace("attribute",x._attribute).getRegex();x._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;x._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;x._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;x.link=D(x.link).replace("label",x._label).replace("href",x._href).replace("title",x._title).getRegex();x.reflink=D(x.reflink).replace("label",x._label).replace("ref",k._label).getRegex();x.nolink=D(x.nolink).replace("ref",k._label).getRegex();x.reflinkSearch=D(x.reflinkSearch,"g").replace("reflink",x.reflink).replace("nolink",x.nolink).getRegex();x.normal={...x};x.pedantic={...x.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:D(/^!?\[(label)\]\((.*?)\)/).replace("label",x._label).getRegex(),reflink:D(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",x._label).getRegex()};x.gfm={...x.normal,escape:D(x.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};x.gfm.url=D(x.gfm.url,"i").replace("email",x.gfm._extended_email).getRegex();x.breaks={...x.gfm,br:D(x.br).replace("{2,}","*").getRegex(),text:D(x.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class oe{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ae,this.options.tokenizer=this.options.tokenizer||new et,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:k.normal,inline:x.normal};this.options.pedantic?(t.block=k.pedantic,t.inline=x.pedantic):this.options.gfm&&(t.block=k.gfm,this.options.breaks?t.inline=x.breaks:t.inline=x.gfm),this.tokenizer.rules=t}static get rules(){return{block:k,inline:x}}static lex(e,t){return new oe(t).lex(e)}static lexInline(e,t){return new oe(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,l,u)=>l+"    ".repeat(u.length));let r,i,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(f=>{u=f.call({lexer:this},l),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=t[t.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r),o=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,i,s,o=e,a,l,u;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)f.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>(r=f.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=t[t.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,o,u)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),t.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const h=e.slice(1);let c;this.options.extensions.startInline.forEach(d=>{c=d.call({lexer:this},h),typeof c=="number"&&c>=0&&(f=Math.min(f,c))}),f<1/0&&f>=0&&(s=e.substring(0,f+1))}if(r=this.tokenizer.inlineText(s)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(u=r.raw.slice(-1)),l=!0,i=t[t.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return t}}class tt{options;constructor(e){this.options=e||Ae}code(e,t,r){const i=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+Q(i)+'">'+(r?e:Q(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Q(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,r){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,r){const i=t?"ol":"ul",s=t&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e,t,r){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){const i=ln(e);if(i===null)return r;e=i;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+r+"</a>",s}image(e,t,r){const i=ln(e);if(i===null)return r;e=i;let s=`<img src="${e}" alt="${r}"`;return t&&(s+=` title="${t}"`),s+=">",s}text(e){return e}}class Ot{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class ae{options;renderer;textRenderer;constructor(e){this.options=e||Ae,this.options.renderer=this.options.renderer||new tt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ot}static parse(e,t){return new ae(t).parse(e)}static parseInline(e,t){return new ae(t).parseInline(e)}parse(e,t=!0){let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=s,a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){r+=a||"";continue}}switch(s.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{const o=s;r+=this.renderer.heading(this.parseInline(o.tokens),o.depth,Ss(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{const o=s;r+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{const o=s;let a="",l="";for(let f=0;f<o.header.length;f++)l+=this.renderer.tablecell(this.parseInline(o.header[f].tokens),{header:!0,align:o.align[f]});a+=this.renderer.tablerow(l);let u="";for(let f=0;f<o.rows.length;f++){const h=o.rows[f];l="";for(let c=0;c<h.length;c++)l+=this.renderer.tablecell(this.parseInline(h[c].tokens),{header:!1,align:o.align[c]});u+=this.renderer.tablerow(l)}r+=this.renderer.table(a,u);continue}case"blockquote":{const o=s,a=this.parse(o.tokens);r+=this.renderer.blockquote(a);continue}case"list":{const o=s,a=o.ordered,l=o.start,u=o.loose;let f="";for(let h=0;h<o.items.length;h++){const c=o.items[h],d=c.checked,p=c.task;let g="";if(c.task){const w=this.renderer.checkbox(!!d);u?c.tokens.length>0&&c.tokens[0].type==="paragraph"?(c.tokens[0].text=w+" "+c.tokens[0].text,c.tokens[0].tokens&&c.tokens[0].tokens.length>0&&c.tokens[0].tokens[0].type==="text"&&(c.tokens[0].tokens[0].text=w+" "+c.tokens[0].tokens[0].text)):c.tokens.unshift({type:"text",text:w+" "}):g+=w+" "}g+=this.parse(c.tokens,u),f+=this.renderer.listitem(g,p,!!d)}r+=this.renderer.list(f,a,l);continue}case"html":{const o=s;r+=this.renderer.html(o.text,o.block);continue}case"paragraph":{const o=s;r+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=s,a=o.tokens?this.parseInline(o.tokens):o.text;for(;i+1<e.length&&e[i+1].type==="text";)o=e[++i],a+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);r+=t?this.renderer.paragraph(a):a;continue}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}parseInline(e,t){t=t||this.renderer;let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=o||"";continue}}switch(s.type){case"escape":{const o=s;r+=t.text(o.text);break}case"html":{const o=s;r+=t.html(o.text);break}case"link":{const o=s;r+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break}case"image":{const o=s;r+=t.image(o.href,o.title,o.text);break}case"strong":{const o=s;r+=t.strong(this.parseInline(o.tokens,t));break}case"em":{const o=s;r+=t.em(this.parseInline(o.tokens,t));break}case"codespan":{const o=s;r+=t.codespan(o.text);break}case"br":{r+=t.br();break}case"del":{const o=s;r+=t.del(this.parseInline(o.tokens,t));break}case"text":{const o=s;r+=t.text(o.text);break}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}}class Ze{options;constructor(e){this.options=e||Ae}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}class Rs{defaults=Mt();options=this.setOptions;parse=this.#e(oe.lex,ae.parse);parseInline=this.#e(oe.lexInline,ae.parseInline);Parser=ae;Renderer=tt;TextRenderer=Ot;Lexer=oe;Tokenizer=et;Hooks=Ze;constructor(...e){this.use(...e)}walkTokens(e,t){let r=[];for(const i of e)switch(r=r.concat(t.call(this,i)),i.type){case"table":{const s=i;for(const o of s.header)r=r.concat(this.walkTokens(o.tokens,t));for(const o of s.rows)for(const a of o)r=r.concat(this.walkTokens(a.tokens,t));break}case"list":{const s=i;r=r.concat(this.walkTokens(s.items,t));break}default:{const s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(o=>{r=r.concat(this.walkTokens(s[o],t))}):s.tokens&&(r=r.concat(this.walkTokens(s.tokens,t)))}}return r}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=t.renderers[s.name];o?t.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=t[s.level];o?o.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),i.extensions=t),r.renderer){const s=this.defaults.renderer||new tt(this.defaults);for(const o in r.renderer){const a=r.renderer[o],l=o,u=s[l];s[l]=(...f)=>{let h=a.apply(s,f);return h===!1&&(h=u.apply(s,f)),h||""}}i.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new et(this.defaults);for(const o in r.tokenizer){const a=r.tokenizer[o],l=o,u=s[l];s[l]=(...f)=>{let h=a.apply(s,f);return h===!1&&(h=u.apply(s,f)),h}}i.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new Ze;for(const o in r.hooks){const a=r.hooks[o],l=o,u=s[l];Ze.passThroughHooks.has(o)?s[l]=f=>{if(this.defaults.async)return Promise.resolve(a.call(s,f)).then(c=>u.call(s,c));const h=a.call(s,f);return u.call(s,h)}:s[l]=(...f)=>{let h=a.apply(s,f);return h===!1&&(h=u.apply(s,f)),h}}i.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return oe.lex(e,t??this.defaults)}parser(e,t){return ae.parse(e,t??this.defaults)}#e(e,t){return(r,i)=>{const s={...i},o={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const a=this.#t(!!o.silent,!!o.async);if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then(l=>e(l,o)).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>t(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(a);try{o.hooks&&(r=o.hooks.preprocess(r));const l=e(r,o);o.walkTokens&&this.walkTokens(l,o.walkTokens);let u=t(l,o);return o.hooks&&(u=o.hooks.postprocess(u)),u}catch(l){return a(l)}}}#t(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+Q(r.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(r);throw r}}}const _e=new Rs;function K(n,e){return _e.parse(n,e)}K.options=K.setOptions=function(n){return _e.setOptions(n),K.defaults=_e.defaults,On(K.defaults),K};K.getDefaults=Mt;K.defaults=Ae;K.use=function(...n){return _e.use(...n),K.defaults=_e.defaults,On(K.defaults),K};K.walkTokens=function(n,e){return _e.walkTokens(n,e)};K.parseInline=_e.parseInline;K.Parser=ae;K.parser=ae.parse;K.Renderer=tt;K.TextRenderer=Ot;K.Lexer=oe;K.lexer=oe.lex;K.Tokenizer=et;K.Hooks=Ze;K.parse=K;K.options;K.setOptions;K.use;K.walkTokens;K.parseInline;ae.parse;oe.lex;var Us=it('<div class="input-wrapper svelte-18kg4x7"><input class="input svelte-18kg4x7" id="text" required> <label class="input-label svelte-18kg4x7" for="text"> </label></div>');function zs(n,e){let t=Ce(e,"label",3,""),r=Ce(e,"value",15,""),i=Ce(e,"type",3,"text");var s=Us(),o=Te(s);xs(o);var a=kt(o,2),l=Te(a,!0);$e(a),$e(s),_t(()=>{Et(o,"type",i()),vt(l,t())}),ks(o,r),me(n,s)}const Ie=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Dn(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function J(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function ye(n,...e){if(!Dn(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function ot(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");J(n.outputLen),J(n.blockLen)}function nt(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Cs(n,e){ye(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function pt(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function ve(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function Ve(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function ie(n,e){return n<<32-e|n>>>e}function O(n,e){return n<<e|n>>>32-e>>>0}const Ns=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function qs(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function Hs(n){for(let e=0;e<n.length;e++)n[e]=qs(n[e]);return n}const un=Ns?n=>n:Hs,jn=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ms=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Zn(n){if(ye(n),jn)return n.toHex();let e="";for(let t=0;t<n.length;t++)e+=Ms[n[t]];return e}const ue={_0:48,_9:57,A:65,F:70,a:97,f:102};function hn(n){if(n>=ue._0&&n<=ue._9)return n-ue._0;if(n>=ue.A&&n<=ue.F)return n-(ue.A-10);if(n>=ue.a&&n<=ue.f)return n-(ue.a-10)}function Vn(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(jn)return Uint8Array.fromHex(n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let i=0,s=0;i<t;i++,s+=2){const o=hn(n.charCodeAt(s)),a=hn(n.charCodeAt(s+1));if(o===void 0||a===void 0){const l=n[s]+n[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function Gn(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function He(n){return typeof n=="string"&&(n=Gn(n)),ye(n),n}function dn(n){return typeof n=="string"&&(n=Gn(n)),ye(n),n}function Xn(n,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(n,e)}class Yn{}function Os(n){const e=r=>n().update(He(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function Ps(n=32){if(Ie&&typeof Ie.getRandomValues=="function")return Ie.getRandomValues(new Uint8Array(n));if(Ie&&typeof Ie.randomBytes=="function")return Uint8Array.from(Ie.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}class Wn extends Yn{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ot(e);const r=He(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),ve(s)}update(e){return nt(this),this.iHash.update(e),this}digestInto(e){nt(this),ye(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Me=(n,e,t)=>new Wn(n,e).update(t).digest();Me.create=(n,e)=>new Wn(n,e);function Ks(n,e,t){return ot(n),t===void 0&&(t=new Uint8Array(n.outputLen)),Me(n,He(t),He(e))}const gt=Uint8Array.from([0]),pn=Uint8Array.of();function Ds(n,e,t,r=32){ot(n),J(r);const i=n.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);t===void 0&&(t=pn);const o=new Uint8Array(s*i),a=Me.create(n,e),l=a._cloneInto(),u=new Uint8Array(a.outputLen);for(let f=0;f<s;f++)gt[0]=f+1,l.update(f===0?pn:u).update(t).update(gt).digestInto(u),o.set(u,i*f),a._cloneInto(l);return a.destroy(),l.destroy(),ve(u,gt),o.slice(0,r)}const At=(n,e,t,r,i)=>Ds(n,Ks(n,e,t),r,i);function js(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),l=r?4:0,u=r?0:4;n.setUint32(e+l,o,r),n.setUint32(e+u,a,r)}function Zs(n,e,t){return n&e^~n&t}function Vs(n,e,t){return n&e^n&t^e&t}class Gs extends Yn{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Ve(this.buffer)}update(e){nt(this),e=He(e),ye(e);const{view:t,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Ve(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nt(this),Cs(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;t[o++]=128,ve(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)t[h]=0;js(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Ve(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,f[h],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const he=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xs=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),de=new Uint32Array(64);class Ys extends Gs{constructor(e=32){super(64,e,8,!1),this.A=he[0]|0,this.B=he[1]|0,this.C=he[2]|0,this.D=he[3]|0,this.E=he[4]|0,this.F=he[5]|0,this.G=he[6]|0,this.H=he[7]|0}get(){const{A:e,B:t,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,t,r,i,s,o,a,l]}set(e,t,r,i,s,o,a,l){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,t){for(let h=0;h<16;h++,t+=4)de[h]=e.getUint32(t,!1);for(let h=16;h<64;h++){const c=de[h-15],d=de[h-2],p=ie(c,7)^ie(c,18)^c>>>3,g=ie(d,17)^ie(d,19)^d>>>10;de[h]=g+de[h-7]+p+de[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:u,H:f}=this;for(let h=0;h<64;h++){const c=ie(a,6)^ie(a,11)^ie(a,25),d=f+c+Zs(a,l,u)+Xs[h]+de[h]|0,g=(ie(r,2)^ie(r,13)^ie(r,22))+Vs(r,i,s)|0;f=u,u=l,l=a,a=o+d|0,o=s,s=i,i=r,r=d+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,i,s,o,a,l,u,f)}roundClean(){ve(de)}destroy(){this.set(0,0,0,0,0,0,0,0),ve(this.buffer)}}const Pt=Os(()=>new Ys),Ge=Pt;/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Kt(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Ws(n,...e){if(!Kt(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function Qn(n,e){return Array.isArray(e)?e.length===0?!0:n?e.every(t=>typeof t=="string"):e.every(t=>Number.isSafeInteger(t)):!1}function Qs(n){if(typeof n!="function")throw new Error("function expected");return!0}function Ee(n,e){if(typeof e!="string")throw new Error(`${n}: string expected`);return!0}function Dt(n){if(!Number.isSafeInteger(n))throw new Error(`invalid integer: ${n}`)}function It(n){if(!Array.isArray(n))throw new Error("array expected")}function rt(n,e){if(!Qn(!0,e))throw new Error(`${n}: array of strings expected`)}function Jn(n,e){if(!Qn(!1,e))throw new Error(`${n}: array of numbers expected`)}function jt(...n){const e=s=>s,t=(s,o)=>a=>s(o(a)),r=n.map(s=>s.encode).reduceRight(t,e),i=n.map(s=>s.decode).reduce(t,e);return{encode:r,decode:i}}function Zt(n){const e=typeof n=="string"?n.split(""):n,t=e.length;rt("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(It(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=t)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${n}`);return e[s]})),decode:i=>(It(i),i.map(s=>{Ee("alphabet.decode",s);const o=r.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${n}`);return o}))}}function Vt(n=""){return Ee("join",n),{encode:e=>(rt("join.decode",e),e.join(n)),decode:e=>(Ee("join.decode",e),e.split(n))}}function Js(n,e="="){return Dt(n),Ee("padding",e),{encode(t){for(rt("padding.encode",t);t.length*n%8;)t.push(e);return t},decode(t){rt("padding.decode",t);let r=t.length;if(r*n%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&t[r-1]===e;r--)if((r-1)*n%8===0)throw new Error("padding: invalid, string has too much padding");return t.slice(0,r)}}}const Fn=(n,e)=>e===0?n:Fn(e,n%e),st=(n,e)=>n+(e-Fn(n,e)),Xe=(()=>{let n=[];for(let e=0;e<40;e++)n.push(2**e);return n})();function Bt(n,e,t,r){if(It(n),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(t<=0||t>32)throw new Error(`convertRadix2: wrong to=${t}`);if(st(e,t)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${t} carryBits=${st(e,t)}`);let i=0,s=0;const o=Xe[e],a=Xe[t]-1,l=[];for(const u of n){if(Dt(u),u>=o)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(i=i<<e|u,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=t;s-=t)l.push((i>>s-t&a)>>>0);const f=Xe[s];if(f===void 0)throw new Error("invalid carry");i&=f-1}if(i=i<<t-s&a,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&l.push(i>>>0),l}function Gt(n,e=!1){if(Dt(n),n<=0||n>32)throw new Error("radix2: bits should be in (0..32]");if(st(8,n)>32||st(n,8)>32)throw new Error("radix2: carry overflow");return{encode:t=>{if(!Kt(t))throw new Error("radix2.encode input should be Uint8Array");return Bt(Array.from(t),8,n,!e)},decode:t=>(Jn("radix2.decode",t),Uint8Array.from(Bt(t,n,8,e)))}}function gn(n){return Qs(n),function(...e){try{return n.apply(null,e)}catch{}}}const Fs=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",ei=(n,e)=>{Ee("base64",n);const t=/^[A-Za-z0-9=+/]+$/,r="base64";if(n.length>0&&!t.test(n))throw new Error("invalid base64");return Uint8Array.fromBase64(n,{alphabet:r,lastChunkHandling:"strict"})},ti=Fs?{encode(n){return Ws(n),n.toBase64()},decode(n){return ei(n)}}:jt(Gt(6),Zt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Js(6),Vt("")),at=jt(Gt(6),Zt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Vt("")),St=jt(Zt("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Vt("")),wn=[996825010,642813549,513874426,1027748829,705979059];function Re(n){const e=n>>25;let t=(n&33554431)<<5;for(let r=0;r<wn.length;r++)(e>>r&1)===1&&(t^=wn[r]);return t}function yn(n,e,t=1){const r=n.length;let i=1;for(let s=0;s<r;s++){const o=n.charCodeAt(s);if(o<33||o>126)throw new Error(`Invalid prefix (${n})`);i=Re(i)^o>>5}i=Re(i);for(let s=0;s<r;s++)i=Re(i)^n.charCodeAt(s)&31;for(let s of e)i=Re(i)^s;for(let s=0;s<6;s++)i=Re(i);return i^=t,St.encode(Bt([i%Xe[30]],30,5,!1))}function ni(n){const e=n==="bech32"?1:734539939,t=Gt(5),r=t.decode,i=t.encode,s=gn(r);function o(h,c,d=90){Ee("bech32.encode prefix",h),Kt(c)&&(c=Array.from(c)),Jn("bech32.encode",c);const p=h.length;if(p===0)throw new TypeError(`Invalid prefix length ${p}`);const g=p+7+c.length;if(d!==!1&&g>d)throw new TypeError(`Length ${g} exceeds limit ${d}`);const w=h.toLowerCase(),y=yn(w,c,e);return`${w}1${St.encode(c)}${y}`}function a(h,c=90){Ee("bech32.decode input",h);const d=h.length;if(d<8||c!==!1&&d>c)throw new TypeError(`invalid string length: ${d} (${h}). Expected (8..${c})`);const p=h.toLowerCase();if(h!==p&&h!==h.toUpperCase())throw new Error("String must be lowercase or uppercase");const g=p.lastIndexOf("1");if(g===0||g===-1)throw new Error('Letter "1" must be present between prefix and data only');const w=p.slice(0,g),y=p.slice(g+1);if(y.length<6)throw new Error("Data must be at least 6 characters long");const v=St.decode(y).slice(0,-6),R=yn(w,v,e);if(!y.endsWith(R))throw new Error(`Invalid checksum in ${h}: expected "${R}"`);return{prefix:w,words:v}}const l=gn(a);function u(h){const{prefix:c,words:d}=a(h,!1);return{prefix:c,words:d,bytes:r(d)}}function f(h,c){return o(h,i(c))}return{encode:o,decode:a,encodeFromBytes:f,decodeToBytes:u,decodeUnsafe:l,fromWords:r,fromWordsUnsafe:s,toWords:i}}const ri=ni("bech32");function si(n,e,t,r){ot(n);const i=Xn({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(J(s),J(o),J(a),s<1)throw new Error("iterations (c) should be >= 1");const l=dn(e),u=dn(t),f=new Uint8Array(o),h=Me.create(n,l),c=h._cloneInto().update(u);return{c:s,dkLen:o,asyncTick:a,DK:f,PRF:h,PRFSalt:c}}function ii(n,e,t,r,i){return n.destroy(),e.destroy(),r&&r.destroy(),ve(i),t}function er(n,e,t,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:l}=si(n,e,t,r);let u;const f=new Uint8Array(4),h=Ve(f),c=new Uint8Array(a.outputLen);for(let d=1,p=0;p<s;d++,p+=a.outputLen){const g=o.subarray(p,p+a.outputLen);h.setInt32(0,d,!1),(u=l._cloneInto(u)).update(f).digestInto(c),g.set(c.subarray(0,g.length));for(let w=1;w<i;w++){a._cloneInto(u).update(c).digestInto(c);for(let y=0;y<g.length;y++)g[y]^=c[y]}}return ii(a,l,o,u,c)}function xn(n,e,t,r,i,s){let o=n[e++]^t[r++],a=n[e++]^t[r++],l=n[e++]^t[r++],u=n[e++]^t[r++],f=n[e++]^t[r++],h=n[e++]^t[r++],c=n[e++]^t[r++],d=n[e++]^t[r++],p=n[e++]^t[r++],g=n[e++]^t[r++],w=n[e++]^t[r++],y=n[e++]^t[r++],v=n[e++]^t[r++],R=n[e++]^t[r++],q=n[e++]^t[r++],E=n[e++]^t[r++],A=o,I=a,z=l,B=u,L=f,C=h,M=c,m=d,_=p,S=g,N=w,T=y,$=v,b=R,U=q,H=E;for(let j=0;j<8;j+=2)L^=O(A+$|0,7),_^=O(L+A|0,9),$^=O(_+L|0,13),A^=O($+_|0,18),S^=O(C+I|0,7),b^=O(S+C|0,9),I^=O(b+S|0,13),C^=O(I+b|0,18),U^=O(N+M|0,7),z^=O(U+N|0,9),M^=O(z+U|0,13),N^=O(M+z|0,18),B^=O(H+T|0,7),m^=O(B+H|0,9),T^=O(m+B|0,13),H^=O(T+m|0,18),I^=O(A+B|0,7),z^=O(I+A|0,9),B^=O(z+I|0,13),A^=O(B+z|0,18),M^=O(C+L|0,7),m^=O(M+C|0,9),L^=O(m+M|0,13),C^=O(L+m|0,18),T^=O(N+S|0,7),_^=O(T+N|0,9),S^=O(_+T|0,13),N^=O(S+_|0,18),$^=O(H+U|0,7),b^=O($+H|0,9),U^=O(b+$|0,13),H^=O(U+b|0,18);i[s++]=o+A|0,i[s++]=a+I|0,i[s++]=l+z|0,i[s++]=u+B|0,i[s++]=f+L|0,i[s++]=h+C|0,i[s++]=c+M|0,i[s++]=d+m|0,i[s++]=p+_|0,i[s++]=g+S|0,i[s++]=w+N|0,i[s++]=y+T|0,i[s++]=v+$|0,i[s++]=R+b|0,i[s++]=q+U|0,i[s++]=E+H|0}function wt(n,e,t,r,i){let s=r+0,o=r+16*i;for(let a=0;a<16;a++)t[o+a]=n[e+(2*i-1)*16+a];for(let a=0;a<i;a++,s+=16,e+=16)xn(t,o,n,e,t,s),a>0&&(o+=16),xn(t,s,n,e+=16,t,o)}function oi(n,e,t){const r=Xn({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:i,r:s,p:o,dkLen:a,asyncTick:l,maxmem:u,onProgress:f}=r;if(J(i),J(s),J(o),J(a),J(l),J(u),f!==void 0&&typeof f!="function")throw new Error("progressCb should be function");const h=128*s,c=h/4,d=Math.pow(2,32);if(i<=1||(i&i-1)!==0||i>d)throw new Error("Scrypt: N must be larger than 1, a power of 2, and less than 2^32");if(o<0||o>(d-1)*32/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(d-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");if(h*(i+o)>u)throw new Error("Scrypt: memused is bigger than maxMem. Expected 128 * r * (N + p) > maxmem of "+u);const g=er(Pt,n,e,{c:1,dkLen:h*o}),w=pt(g),y=pt(new Uint8Array(h*i)),v=pt(new Uint8Array(h));let R=()=>{};if(f){const q=2*i*o,E=Math.max(Math.floor(q/1e4),1);let A=0;R=()=>{A++,f&&(!(A%E)||A===q)&&f(A/q)}}return{N:i,r:s,p:o,dkLen:a,blockSize32:c,V:y,B32:w,B:g,tmp:v,blockMixCb:R,asyncTick:l}}function ai(n,e,t,r,i){const s=er(Pt,n,t,{c:1,dkLen:e});return ve(t,r,i),s}function li(n,e,t){const{N:r,r:i,p:s,dkLen:o,blockSize32:a,V:l,B32:u,B:f,tmp:h,blockMixCb:c}=oi(n,e,t);un(u);for(let d=0;d<s;d++){const p=a*d;for(let g=0;g<a;g++)l[g]=u[p+g];for(let g=0,w=0;g<r-1;g++)wt(l,w,l,w+=a,i),c();wt(l,(r-1)*a,u,p,i),c();for(let g=0;g<r;g++){const w=u[p+a-16]%r;for(let y=0;y<a;y++)h[y]=u[p+y]^l[w*a+y];wt(h,0,u,p,i),c()}}return un(u),ai(n,o,f,l,h)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function tr(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Tt(n){if(typeof n!="boolean")throw new Error(`boolean expected, not ${n}`)}function yt(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function G(n,...e){if(!tr(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function bn(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function ci(n,e){G(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function we(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function Le(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function fi(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}const ui=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function hi(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function $t(n){if(typeof n=="string")n=hi(n);else if(tr(n))n=Lt(n);else throw new Error("Uint8Array expected, got "+typeof n);return n}function di(n,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(n,e)}function pi(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}const gi=(n,e)=>{function t(r,...i){if(G(r),!ui)throw new Error("Non little-endian hardware is not yet supported");if(n.nonceLength!==void 0){const f=i[0];if(!f)throw new Error("nonce / iv required");n.varSizeNonce?G(f):G(f,n.nonceLength)}const s=n.tagLength;s&&i[1]!==void 0&&G(i[1]);const o=e(r,...i),a=(f,h)=>{if(h!==void 0){if(f!==2)throw new Error("cipher output not supported");G(h)}};let l=!1;return{encrypt(f,h){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,G(f),a(o.encrypt.length,h),o.encrypt(f,h)},decrypt(f,h){if(G(f),s&&f.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,h),o.decrypt(f,h)}}}return Object.assign(t,n),t};function mn(n,e,t=!0){if(e===void 0)return new Uint8Array(n);if(e.length!==n)throw new Error("invalid output length, expected "+n+", got: "+e.length);if(t&&!yi(e))throw new Error("invalid output, must be aligned");return e}function kn(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),l=4,u=0;n.setUint32(e+l,o,r),n.setUint32(e+u,a,r)}function wi(n,e,t){Tt(t);const r=new Uint8Array(16),i=fi(r);return kn(i,0,BigInt(e),t),kn(i,8,BigInt(n),t),r}function yi(n){return n.byteOffset%4===0}function Lt(n){return Uint8Array.from(n)}const nr=n=>Uint8Array.from(n.split("").map(e=>e.charCodeAt(0))),xi=nr("expand 16-byte k"),bi=nr("expand 32-byte k"),mi=we(xi),ki=we(bi);function P(n,e){return n<<e|n>>>32-e}function Rt(n){return n.byteOffset%4===0}const De=64,_i=16,rr=2**32-1,_n=new Uint32Array;function vi(n,e,t,r,i,s,o,a){const l=i.length,u=new Uint8Array(De),f=we(u),h=Rt(i)&&Rt(s),c=h?we(i):_n,d=h?we(s):_n;for(let p=0;p<l;o++){if(n(e,t,r,f,o,a),o>=rr)throw new Error("arx: counter overflow");const g=Math.min(De,l-p);if(h&&g===De){const w=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let y=0,v;y<_i;y++)v=w+y,d[v]=c[v]^f[y];p+=De;continue}for(let w=0,y;w<g;w++)y=p+w,s[y]=i[y]^u[w];p+=g}}function Ei(n,e){const{allowShortKeys:t,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=di({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof n!="function")throw new Error("core must be a function");return yt(i),yt(o),Tt(s),Tt(t),(a,l,u,f,h=0)=>{G(a),G(l),G(u);const c=u.length;if(f===void 0&&(f=new Uint8Array(c)),G(f),yt(h),h<0||h>=rr)throw new Error("arx: counter overflow");if(f.length<c)throw new Error(`arx: output (${f.length}) is shorter than data (${c})`);const d=[];let p=a.length,g,w;if(p===32)d.push(g=Lt(a)),w=ki;else if(p===16&&t)g=new Uint8Array(32),g.set(a),g.set(a,16),w=mi,d.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);Rt(l)||d.push(l=Lt(l));const y=we(g);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(w,y,we(l.subarray(0,16)),y),l=l.subarray(16)}const v=16-i;if(v!==l.length)throw new Error(`arx: nonce must be ${v} or 16 bytes`);if(v!==12){const q=new Uint8Array(12);q.set(l,s?0:12-l.length),l=q,d.push(l)}const R=we(l);return vi(n,w,y,R,u,f,h,o),Le(...d),f}}const V=(n,e)=>n[e++]&255|(n[e++]&255)<<8;class Ai{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=$t(e),G(e,32);const t=V(e,0),r=V(e,2),i=V(e,4),s=V(e,6),o=V(e,8),a=V(e,10),l=V(e,12),u=V(e,14);this.r[0]=t&8191,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let f=0;f<8;f++)this.pad[f]=V(e,16+2*f)}process(e,t,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],l=o[1],u=o[2],f=o[3],h=o[4],c=o[5],d=o[6],p=o[7],g=o[8],w=o[9],y=V(e,t+0),v=V(e,t+2),R=V(e,t+4),q=V(e,t+6),E=V(e,t+8),A=V(e,t+10),I=V(e,t+12),z=V(e,t+14);let B=s[0]+(y&8191),L=s[1]+((y>>>13|v<<3)&8191),C=s[2]+((v>>>10|R<<6)&8191),M=s[3]+((R>>>7|q<<9)&8191),m=s[4]+((q>>>4|E<<12)&8191),_=s[5]+(E>>>1&8191),S=s[6]+((E>>>14|A<<2)&8191),N=s[7]+((A>>>11|I<<5)&8191),T=s[8]+((I>>>8|z<<8)&8191),$=s[9]+(z>>>5|i),b=0,U=b+B*a+L*(5*w)+C*(5*g)+M*(5*p)+m*(5*d);b=U>>>13,U&=8191,U+=_*(5*c)+S*(5*h)+N*(5*f)+T*(5*u)+$*(5*l),b+=U>>>13,U&=8191;let H=b+B*l+L*a+C*(5*w)+M*(5*g)+m*(5*p);b=H>>>13,H&=8191,H+=_*(5*d)+S*(5*c)+N*(5*h)+T*(5*f)+$*(5*u),b+=H>>>13,H&=8191;let j=b+B*u+L*l+C*a+M*(5*w)+m*(5*g);b=j>>>13,j&=8191,j+=_*(5*p)+S*(5*d)+N*(5*c)+T*(5*h)+$*(5*f),b+=j>>>13,j&=8191;let W=b+B*f+L*u+C*l+M*a+m*(5*w);b=W>>>13,W&=8191,W+=_*(5*g)+S*(5*p)+N*(5*d)+T*(5*c)+$*(5*h),b+=W>>>13,W&=8191;let le=b+B*h+L*f+C*u+M*l+m*a;b=le>>>13,le&=8191,le+=_*(5*w)+S*(5*g)+N*(5*p)+T*(5*d)+$*(5*c),b+=le>>>13,le&=8191;let ne=b+B*c+L*h+C*f+M*u+m*l;b=ne>>>13,ne&=8191,ne+=_*a+S*(5*w)+N*(5*g)+T*(5*p)+$*(5*d),b+=ne>>>13,ne&=8191;let re=b+B*d+L*c+C*h+M*f+m*u;b=re>>>13,re&=8191,re+=_*l+S*a+N*(5*w)+T*(5*g)+$*(5*p),b+=re>>>13,re&=8191;let se=b+B*p+L*d+C*c+M*h+m*f;b=se>>>13,se&=8191,se+=_*u+S*l+N*a+T*(5*w)+$*(5*g),b+=se>>>13,se&=8191;let ce=b+B*g+L*p+C*d+M*c+m*h;b=ce>>>13,ce&=8191,ce+=_*f+S*u+N*l+T*a+$*(5*w),b+=ce>>>13,ce&=8191;let fe=b+B*w+L*g+C*p+M*d+m*c;b=fe>>>13,fe&=8191,fe+=_*h+S*f+N*u+T*l+$*a,b+=fe>>>13,fe&=8191,b=(b<<2)+b|0,b=b+U|0,U=b&8191,b=b>>>13,H+=b,s[0]=U,s[1]=H,s[2]=j,s[3]=W,s[4]=le,s[5]=ne,s[6]=re,s[7]=se,s[8]=ce,s[9]=fe}finalize(){const{h:e,pad:t}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+t[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+t[a]|0)+(o>>>16)|0,e[a]=o&65535;Le(r)}update(e){bn(this),e=$t(e),G(e);const{buffer:t,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}t.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){Le(this.h,this.r,this.buffer,this.pad)}digestInto(e){bn(this),ci(e,this),this.finished=!0;const{buffer:t,h:r}=this;let{pos:i}=this;if(i){for(t[i++]=1;i<16;i++)t[i]=0;this.process(t,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}}function Ii(n){const e=(r,i)=>n(i).update($t(r)).digest(),t=n(new Uint8Array(32));return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=r=>n(r),e}const Bi=Ii(n=>new Ai(n));function Si(n,e,t,r,i,s=20){let o=n[0],a=n[1],l=n[2],u=n[3],f=e[0],h=e[1],c=e[2],d=e[3],p=e[4],g=e[5],w=e[6],y=e[7],v=i,R=t[0],q=t[1],E=t[2],A=o,I=a,z=l,B=u,L=f,C=h,M=c,m=d,_=p,S=g,N=w,T=y,$=v,b=R,U=q,H=E;for(let W=0;W<s;W+=2)A=A+L|0,$=P($^A,16),_=_+$|0,L=P(L^_,12),A=A+L|0,$=P($^A,8),_=_+$|0,L=P(L^_,7),I=I+C|0,b=P(b^I,16),S=S+b|0,C=P(C^S,12),I=I+C|0,b=P(b^I,8),S=S+b|0,C=P(C^S,7),z=z+M|0,U=P(U^z,16),N=N+U|0,M=P(M^N,12),z=z+M|0,U=P(U^z,8),N=N+U|0,M=P(M^N,7),B=B+m|0,H=P(H^B,16),T=T+H|0,m=P(m^T,12),B=B+m|0,H=P(H^B,8),T=T+H|0,m=P(m^T,7),A=A+C|0,H=P(H^A,16),N=N+H|0,C=P(C^N,12),A=A+C|0,H=P(H^A,8),N=N+H|0,C=P(C^N,7),I=I+M|0,$=P($^I,16),T=T+$|0,M=P(M^T,12),I=I+M|0,$=P($^I,8),T=T+$|0,M=P(M^T,7),z=z+m|0,b=P(b^z,16),_=_+b|0,m=P(m^_,12),z=z+m|0,b=P(b^z,8),_=_+b|0,m=P(m^_,7),B=B+L|0,U=P(U^B,16),S=S+U|0,L=P(L^S,12),B=B+L|0,U=P(U^B,8),S=S+U|0,L=P(L^S,7);let j=0;r[j++]=o+A|0,r[j++]=a+I|0,r[j++]=l+z|0,r[j++]=u+B|0,r[j++]=f+L|0,r[j++]=h+C|0,r[j++]=c+M|0,r[j++]=d+m|0,r[j++]=p+_|0,r[j++]=g+S|0,r[j++]=w+N|0,r[j++]=y+T|0,r[j++]=v+$|0,r[j++]=R+b|0,r[j++]=q+U|0,r[j++]=E+H|0}const Ti=Ei(Si,{counterRight:!1,counterLength:4,allowShortKeys:!1}),$i=new Uint8Array(16),vn=(n,e)=>{n.update(e);const t=e.length%16;t&&n.update($i.subarray(t))},Li=new Uint8Array(32);function En(n,e,t,r,i){const s=n(e,t,Li),o=Bi.create(s);i&&vn(o,i),vn(o,r);const a=wi(r.length,i?i.length:0,!0);o.update(a);const l=o.digest();return Le(s,a),l}const Ri=n=>(e,t,r)=>({encrypt(s,o){const a=s.length;o=mn(a+16,o,!1),o.set(s);const l=o.subarray(0,-16);n(e,t,l,l,1);const u=En(n,e,t,l,r);return o.set(u,a),Le(u),o},decrypt(s,o){o=mn(s.length-16,o,!1);const a=s.subarray(0,-16),l=s.subarray(-16),u=En(n,e,t,a,r);if(!pi(l,u))throw new Error("invalid tag");return o.set(s.subarray(0,-16)),n(e,t,o,o,1),Le(u),o}}),Ut=gi({blockSize:64,nonceLength:12,tagLength:16},Ri(Ti));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sr=BigInt(0),An=BigInt(1);function ir(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?sr:BigInt("0x"+n)}function Ui(n){return ir(Zn(n))}function zt(n){return ye(n),ir(Zn(Uint8Array.from(n).reverse()))}function or(n,e){return Vn(n.toString(16).padStart(e*2,"0"))}function ar(n,e){return or(n,e).reverse()}function In(n,e,t){let r;if(typeof e=="string")try{r=Vn(e)}catch(s){throw new Error(n+" must be hex string or Uint8Array, cause: "+s)}else if(Dn(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(n+" of length "+t+" expected, got "+i);return r}const xt=n=>typeof n=="bigint"&&sr<=n;function zi(n,e,t){return xt(n)&&xt(e)&&xt(t)&&e<=n&&n<t}function Bn(n,e,t,r){if(!zi(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}const Ci=n=>(An<<BigInt(n))-An;function Ni(n,e,t={}){if(!n||typeof n!="object")throw new Error("expected valid options object");function r(i,s,o){const a=n[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(t).forEach(([i,s])=>r(i,s,!0))}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Y=BigInt(0),F=BigInt(1),ke=BigInt(2),lr=BigInt(3),cr=BigInt(4),fr=BigInt(5),qi=BigInt(7),ur=BigInt(8),Hi=BigInt(9),hr=BigInt(16);function ee(n,e){const t=n%e;return t>=Y?t:e+t}function te(n,e,t){let r=n;for(;e-- >Y;)r*=r,r%=t;return r}function Sn(n,e){if(n===Y)throw new Error("invert: expected non-zero number");if(e<=Y)throw new Error("invert: expected positive modulus, got "+e);let t=ee(n,e),r=e,i=Y,s=F;for(;t!==Y;){const a=r/t,l=r%t,u=i-s*a;r=t,t=l,i=s,s=u}if(r!==F)throw new Error("invert: does not exist");return ee(i,e)}function Xt(n,e,t){if(!n.eql(n.sqr(e),t))throw new Error("Cannot find square root")}function dr(n,e){const t=(n.ORDER+F)/cr,r=n.pow(e,t);return Xt(n,r,e),r}function Mi(n,e){const t=(n.ORDER-fr)/ur,r=n.mul(e,ke),i=n.pow(r,t),s=n.mul(e,i),o=n.mul(n.mul(s,ke),i),a=n.mul(s,n.sub(o,n.ONE));return Xt(n,a,e),a}function Oi(n){const e=Yt(n),t=pr(n),r=t(e,e.neg(e.ONE)),i=t(e,r),s=t(e,e.neg(r)),o=(n+qi)/hr;return(a,l)=>{let u=a.pow(l,o),f=a.mul(u,r);const h=a.mul(u,i),c=a.mul(u,s),d=a.eql(a.sqr(f),l),p=a.eql(a.sqr(h),l);u=a.cmov(u,f,d),f=a.cmov(c,h,p);const g=a.eql(a.sqr(f),l),w=a.cmov(u,f,g);return Xt(a,w,l),w}}function pr(n){if(n<lr)throw new Error("sqrt is not defined for small field");let e=n-F,t=0;for(;e%ke===Y;)e/=ke,t++;let r=ke;const i=Yt(n);for(;Tn(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return dr;let s=i.pow(r,e);const o=(e+F)/ke;return function(l,u){if(l.is0(u))return u;if(Tn(l,u)!==1)throw new Error("Cannot find square root");let f=t,h=l.mul(l.ONE,s),c=l.pow(u,e),d=l.pow(u,o);for(;!l.eql(c,l.ONE);){if(l.is0(c))return l.ZERO;let p=1,g=l.sqr(c);for(;!l.eql(g,l.ONE);)if(p++,g=l.sqr(g),p===f)throw new Error("Cannot find square root");const w=F<<BigInt(f-p-1),y=l.pow(h,w);f=p,h=l.sqr(y),c=l.mul(c,h),d=l.mul(d,y)}return d}}function Pi(n){return n%cr===lr?dr:n%ur===fr?Mi:n%hr===Hi?Oi(n):pr(n)}function Ki(n,e,t){if(t<Y)throw new Error("invalid exponent, negatives unsupported");if(t===Y)return n.ONE;if(t===F)return e;let r=n.ONE,i=e;for(;t>Y;)t&F&&(r=n.mul(r,i)),i=n.sqr(i),t>>=F;return r}function Di(n,e,t=!1){const r=new Array(e.length).fill(t?n.ZERO:void 0),i=e.reduce((o,a,l)=>n.is0(a)?o:(r[l]=o,n.mul(o,a)),n.ONE),s=n.inv(i);return e.reduceRight((o,a,l)=>n.is0(a)?o:(r[l]=n.mul(o,r[l]),n.mul(o,a)),s),r}function Tn(n,e){const t=(n.ORDER-F)/ke,r=n.pow(e,t),i=n.eql(r,n.ONE),s=n.eql(r,n.ZERO),o=n.eql(r,n.neg(n.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function ji(n,e){e!==void 0&&J(e);const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function Yt(n,e,t=!1,r={}){if(n<=Y)throw new Error("invalid field: expected ORDER > 0, got "+n);let i,s,o=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||t)throw new Error("cannot specify opts in two arguments");const c=e;c.BITS&&(i=c.BITS),c.sqrt&&(s=c.sqrt),typeof c.isLE=="boolean"&&(t=c.isLE),typeof c.modFromBytes=="boolean"&&(o=c.modFromBytes),a=c.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:l,nByteLength:u}=ji(n,i);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let f;const h=Object.freeze({ORDER:n,isLE:t,BITS:l,BYTES:u,MASK:Ci(l),ZERO:Y,ONE:F,allowedLengths:a,create:c=>ee(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Y<=c&&c<n},is0:c=>c===Y,isValidNot0:c=>!h.is0(c)&&h.isValid(c),isOdd:c=>(c&F)===F,neg:c=>ee(-c,n),eql:(c,d)=>c===d,sqr:c=>ee(c*c,n),add:(c,d)=>ee(c+d,n),sub:(c,d)=>ee(c-d,n),mul:(c,d)=>ee(c*d,n),pow:(c,d)=>Ki(h,c,d),div:(c,d)=>ee(c*Sn(d,n),n),sqrN:c=>c*c,addN:(c,d)=>c+d,subN:(c,d)=>c-d,mulN:(c,d)=>c*d,inv:c=>Sn(c,n),sqrt:s||(c=>(f||(f=Pi(n)),f(h,c))),toBytes:c=>t?ar(c,u):or(c,u),fromBytes:(c,d=!0)=>{if(a){if(!a.includes(c.length)||c.length>u)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+c.length);const g=new Uint8Array(u);g.set(c,t?0:g.length-c.length),c=g}if(c.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+c.length);let p=t?zt(c):Ui(c);if(o&&(p=ee(p,n)),!d&&!h.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:c=>Di(h,c),cmov:(c,d,p)=>p?d:c});return Object.freeze(h)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ue=BigInt(0),Be=BigInt(1),je=BigInt(2);function Zi(n){return Ni(n,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...n})}function Vi(n){const e=Zi(n),{P:t,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const l=o||Ps,u=a?255:448,f=a?32:56,h=BigInt(a?9:5),c=BigInt(a?121665:39081),d=a?je**BigInt(254):je**BigInt(447),p=a?BigInt(8)*je**BigInt(251)-Be:BigInt(4)*je**BigInt(445)-Be,g=d+p+Be,w=m=>ee(m,t),y=v(h);function v(m){return ar(w(m),f)}function R(m){const _=In("u coordinate",m,f);return a&&(_[31]&=127),w(zt(_))}function q(m){return zt(i(In("scalar",m,f)))}function E(m,_){const S=z(R(_),q(m));if(S===Ue)throw new Error("invalid private or public key received");return v(S)}function A(m){return E(m,y)}function I(m,_,S){const N=w(m*(_-S));return _=w(_-N),S=w(S+N),{x_2:_,x_3:S}}function z(m,_){Bn("u",m,Ue,t),Bn("scalar",_,d,g);const S=_,N=m;let T=Be,$=Ue,b=m,U=Be,H=Ue;for(let W=BigInt(u-1);W>=Ue;W--){const le=S>>W&Be;H^=le,{x_2:T,x_3:b}=I(H,T,b),{x_2:$,x_3:U}=I(H,$,U),H=le;const ne=T+$,re=w(ne*ne),se=T-$,ce=w(se*se),fe=re-ce,kr=b+U,_r=b-U,Wt=w(_r*ne),Qt=w(kr*se),Jt=Wt+Qt,Ft=Wt-Qt;b=w(Jt*Jt),U=w(N*w(Ft*Ft)),T=w(re*ce),$=w(fe*(re+w(c*fe)))}({x_2:T,x_3:b}=I(H,T,b)),{x_2:$,x_3:U}=I(H,$,U);const j=s($);return w(T*j)}const B={secretKey:f,publicKey:f,seed:f},L=(m=l(f))=>(ye(m,B.seed),m);function C(m){const _=L(m);return{secretKey:_,publicKey:A(_)}}return{keygen:C,getSharedSecret:(m,_)=>E(m,_),getPublicKey:m=>A(m),scalarMult:E,scalarMultBase:A,utils:{randomSecretKey:L,randomPrivateKey:L},GuBytes:y.slice(),lengths:B}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gi=BigInt(1),$n=BigInt(2),Xi=BigInt(3),Yi=BigInt(5),Wi=BigInt(8),gr=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Qi={p:gr,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Wi,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Ji(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),i=BigInt(80),s=gr,a=n*n%s*n%s,l=te(a,$n,s)*a%s,u=te(l,Gi,s)*n%s,f=te(u,Yi,s)*u%s,h=te(f,e,s)*f%s,c=te(h,t,s)*h%s,d=te(c,r,s)*c%s,p=te(d,i,s)*d%s,g=te(p,i,s)*d%s,w=te(g,e,s)*f%s;return{pow_p_5_8:te(w,$n,s)*n%s,b2:a}}function Fi(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}const eo=Yt(Qi.p,{isLE:!0}),Ct=(()=>{const n=eo.ORDER;return Vi({P:n,type:"x25519",powPminus2:e=>{const{pow_p_5_8:t,b2:r}=Ji(e);return ee(te(t,Xi,n)*r,n)},adjustScalarBytes:Fi})})(),wr=!1;async function yr(n,e){try{return await n()}catch(t){if(t instanceof ReferenceError||t instanceof DOMException&&t.name==="NotSupportedError")return await e();throw t}}async function xr(n,e){return await yr(async()=>{const t=Nt(n)?n:await no(n),r=await crypto.subtle.importKey("raw",e,{name:"X25519"},wr,[]);return new Uint8Array(await crypto.subtle.deriveBits({name:"X25519",public:r},t,256))},()=>{if(Nt(n))throw new Error("CryptoKey provided but X25519 WebCrypto is not supported");return Ct.scalarMult(n,e)})}async function Ln(n){return await yr(async()=>xr(n,Ct.GuBytes),()=>{if(Nt(n))throw new Error("CryptoKey provided but X25519 WebCrypto is not supported");return Ct.scalarMultBase(n)})}const to=new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,110,4,34,4,32]);async function no(n){if(n.length!==32)throw new Error("X25519 private key must be 32 bytes");const e=new Uint8Array([...to,...n]);return crypto.subtle.importKey("pkcs8",e,{name:"X25519"},wr,["deriveBits"])}function Nt(n){return typeof CryptoKey<"u"&&n instanceof CryptoKey}class ro{s;transcript=[];buf=new Uint8Array(0);constructor(e){this.s=e.getReader()}async readLine(){const e=[];for(;;){const t=this.buf.indexOf(10);if(t>=0)return e.push(this.buf.subarray(0,t)),this.transcript.push(this.buf.subarray(0,t+1)),this.buf=this.buf.subarray(t+1),so(Ne(e));this.buf.length>0&&(e.push(this.buf),this.transcript.push(this.buf));const r=await this.s.read();if(r.done)return this.buf=Ne(e),null;this.buf=r.value}}close(){return this.s.releaseLock(),{rest:this.buf,transcript:Ne(this.transcript)}}}function so(n){return n.forEach(e=>{if(e<32||e>126)throw Error("invalid non-ASCII byte in header")}),new TextDecoder().decode(n)}function Ne(n){const e=n.reduce((i,s)=>i+s.length,0),t=new Uint8Array(e);let r=0;for(const i of n)t.set(i,r),r+=i.length;return t}function br(n,...e){return n.pipeThrough(new TransformStream({start(t){for(const r of e)t.enqueue(r)}}))}function Rn(n){return new ReadableStream({start(e){e.enqueue(n),e.close()}})}async function io(n){if(!(n instanceof ReadableStream))throw new Error("readAll expects a ReadableStream<Uint8Array>");return new Uint8Array(await new Response(n).arrayBuffer())}async function oo(n){if(!(n instanceof ReadableStream))throw new Error("readAllString expects a ReadableStream<Uint8Array>");return await new Response(n).text()}async function ao(n,e){const t=n.getReader(),r=[];let i=0;for(;i<e;){const{done:l,value:u}=await t.read();if(l)throw Error("stream ended before reading "+e+" bytes");r.push(u),i+=u.length}t.releaseLock();const s=Ne(r),o=s.subarray(0,e),a=br(n,s.subarray(e));return{data:o,rest:a}}class lo{args;body;constructor(e,t){this.args=e,this.body=t}}async function co(n){const e=await n.readLine();if(e===null)throw Error("invalid stanza");const t=e.split(" ");if(t.length<2||t.shift()!=="->")return{next:e};for(const s of t)if(s.length===0)throw Error("invalid stanza");const r=[];for(;;){const s=await n.readLine();if(s===null)throw Error("invalid stanza");const o=at.decode(s);if(o.length>48)throw Error("invalid stanza");if(r.push(o),o.length<48)break}const i=Ne(r);return{s:new lo(t,i)}}async function fo(n){const e=new ro(n),t=await e.readLine();if(t!=="age-encryption.org/v1")throw Error("invalid version "+(t??"line"));const r=[];for(;;){const{s:i,next:s}=await co(e);if(i!==void 0){r.push(i);continue}if(!s.startsWith("--- "))throw Error("invalid header");const o=at.decode(s.slice(4)),{rest:a,transcript:l}=e.close(),u=l.slice(0,l.length-1-s.length+3);return{stanzas:r,headerNoMAC:u,MAC:o,headerSize:l.length,rest:br(n,a)}}}class uo{identity;recipient;constructor(e){if(po(e)){this.identity=e,this.recipient=Ln(e);return}const t=ri.decodeToBytes(e);if(!e.startsWith("AGE-SECRET-KEY-1")||t.prefix.toUpperCase()!=="AGE-SECRET-KEY-"||t.bytes.length!==32)throw Error("invalid identity");this.identity=t.bytes,this.recipient=Ln(t.bytes)}async unwrapFileKey(e){for(const t of e){if(t.args.length<1||t.args[0]!=="X25519")continue;if(t.args.length!==2)throw Error("invalid X25519 stanza");const r=at.decode(t.args[1]);if(r.length!==32)throw Error("invalid X25519 stanza");const i=await xr(this.identity,r),s=await this.recipient,o=new Uint8Array(r.length+s.length);o.set(r),o.set(s,r.length);const a=At(Ge,i,o,"age-encryption.org/v1/X25519",32),l=mr(t.body,a);if(l!==null)return l}return null}}class ho{passphrase;constructor(e){this.passphrase=e}unwrapFileKey(e){for(const t of e){if(t.args.length<1||t.args[0]!=="scrypt")continue;if(e.length!==1)throw Error("scrypt recipient is not the only one in the header");if(t.args.length!==3||!/^[1-9][0-9]*$/.test(t.args[2]))throw Error("invalid scrypt stanza");const r=at.decode(t.args[1]);if(r.length!==16)throw Error("invalid scrypt stanza");const i=Number(t.args[2]);if(i>20)throw Error("scrypt work factor is too high");const s="age-encryption.org/v1/scrypt",o=new Uint8Array(s.length+16);o.set(new TextEncoder().encode(s)),o.set(r,s.length);const a=li(this.passphrase,o,{N:2**i,r:8,p:1,dkLen:32}),l=mr(t.body,a);if(l!==null)return l}return null}}function mr(n,e){if(n.length!==32)throw Error("invalid stanza");const t=new Uint8Array(12);try{return Ut(e,t).decrypt(n)}catch{return null}}function po(n){return typeof CryptoKey<"u"&&n instanceof CryptoKey}const Se=16,go=64*1024,qt=go+Se;function wo(n){const e=new Uint8Array(12),t=()=>{for(let o=e.length-2;o>=0&&(e[o]++,e[o]===0);o--);};let r=!0;const i=new Uint8Array(qt);let s=0;return new TransformStream({transform(o,a){for(;o.length>0;){if(s===i.length){const u=Ut(n,e).decrypt(i);a.enqueue(u),t(),s=0,r=!1}const l=Math.min(i.length-s,o.length);i.set(o.subarray(0,l),s),s+=l,o=o.subarray(l)}},flush(o){e[11]=1;const a=Ut(n,e).decrypt(i.subarray(0,s));if(!r&&a.length===0)throw new Error("final chunk is empty");o.enqueue(a)}})}function yo(n){if(n<Se)throw Error("ciphertext is too small");if(n===Se)return 0;const e=Math.floor(n/qt),t=n%qt;if(0<t&&t<=Se)throw Error("ciphertext size is invalid");let r=n;return r-=e*Se,r-=t>0?Se:0,r}function xo(n){const e=n.trim().replaceAll(`\r
`,`
`).split(`
`);if(e.shift()!=="-----BEGIN AGE ENCRYPTED FILE-----")throw Error("invalid header");if(e.pop()!=="-----END AGE ENCRYPTED FILE-----")throw Error("invalid footer");function t(r,i){return r===e.length-1?i.length>0&&i.length<=64&&i.length%4===0:i.length===64}if(!e.every((r,i)=>t(i,r)))throw Error("invalid line length");if(!e.every(r=>/^[A-Za-z0-9+/=]+$/.test(r)))throw Error("invalid base64");return ti.decode(e.join(""))}class bo{identities=[];addPassphrase(e){this.identities.push(new ho(e))}addIdentity(e){typeof e=="string"||ko(e)?this.identities.push(new uo(e)):this.identities.push(e)}async decrypt(e,t){const r=e instanceof ReadableStream?e:Rn(e),{fileKey:i,headerSize:s,rest:o}=await this.decryptHeaderInternal(r),{data:a,rest:l}=await ao(o,16),u=At(Ge,i,a,"payload",32),f=wo(u),h=l.pipeThrough(f),c=Object.assign(h,{size:d=>yo(d-s-a.length)});return e instanceof ReadableStream?c:t==="text"?await oo(h):await io(h)}async decryptHeader(e){return(await this.decryptHeaderInternal(Rn(e))).fileKey}async decryptHeaderInternal(e){const t=await fo(e),r=await this.unwrapFileKey(t.stanzas);if(r===null)throw Error("no identity matched any of the file's recipients");const i=At(Ge,r,void 0,"header",32),s=Me(Ge,i,t.headerNoMAC);if(!mo(t.MAC,s))throw Error("invalid header HMAC");return{fileKey:r,headerSize:t.headerSize,rest:t.rest}}async unwrapFileKey(e){for(const t of this.identities){const r=await t.unwrapFileKey(e);if(r!==null)return r}return null}}function mo(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function ko(n){return typeof CryptoKey<"u"&&n instanceof CryptoKey}var _o=it('<div class="my-12 flex flex-col items-center"><form class="flex justify-center gap-4 mb-4" style="text-align: center;"><!> <button class="outline px-4 py-2" type="submit">解密</button> <noscript></noscript></form> <pre class="w-full overflow-x-auto text-xs opacity-50" style="text-align: center"> </pre></div>'),vo=it('<pre style="text-align: center"> </pre>'),Eo=it("<!> <!>",1);function Bo(n,e){os(e,!0);let t=Ce(e,"content",3,""),r=Ce(e,"slug",3,""),i=ct(""),s=ct(xe([])),o=ct(!1);function a(d){const p=/-----BEGIN AGE ENCRYPTED FILE-----[\s\S]*?-----END AGE ENCRYPTED FILE-----/g,g=[];let w=0,y;for(;(y=p.exec(d))!==null;)y.index>w&&g.push({type:"text",content:d.substring(w,y.index),decrypted:null}),g.push({type:"encrypted",content:y[0],decrypted:null}),w=p.lastIndex;return w<d.length&&g.push({type:"text",content:d.substring(w),decrypted:null}),g.length===0&&d&&g.push({type:"text",content:d,decrypted:null}),g}Hn(()=>{t()&&be(s,xe(a(t())))}),_s(()=>{localStorage.getItem(r())&&(be(i,xe(localStorage.getItem(r()))),be(i,xe(window.atob(Z(i)))),l())});const l=async()=>{if(!Z(i))return;const d=new bo;d.addPassphrase(Z(i));let p=!1;const g=[...Z(s)];for(let w=0;w<g.length;w++){const y=g[w];if(y.type==="encrypted"&&!y.decrypted)try{const v=xo(y.content),R=await d.decrypt(v,"text");g[w]={...y,decrypted:K.parse(R)},p=!0}catch(v){console.error("Decryption failed for segment",w,v)}}p?(be(s,xe(g)),be(o,!0),localStorage.setItem(r(),window.btoa(Z(i)))):Z(i)&&Z(s).some(y=>y.type==="encrypted"&&!y.decrypted)&&alert("解密失败，请检查密码")};var u=Eo(),f=Oe(u);ds(f,17,()=>Z(s),us,(d,p)=>{var g=ft(),w=Oe(g);{var y=R=>{var q=ft(),E=Oe(q);sn(E,()=>K.parse(Z(p).content)),me(R,q)},v=(R,q)=>{{var E=I=>{var z=ft(),B=Oe(z);sn(B,()=>Z(p).decrypted),me(I,z)},A=I=>{var z=_o(),B=Te(z),L=Te(B);zs(L,{type:"password",label:"Password",get value(){return Z(i)},set value(m){be(i,xe(m))}}),as(4),$e(B);var C=kt(B,2),M=Te(C,!0);$e(C),$e(z),_t(()=>vt(M,Z(p).content)),ls("submit",B,m=>{m.preventDefault(),l()}),me(I,z)};ut(R,I=>{Z(p).decrypted?I(E):I(A,!1)},q)}};ut(w,R=>{Z(p).type==="text"?R(y):R(v,!1)})}me(d,g)});var h=kt(f,2);{var c=d=>{var p=vo(),g=Te(p,!0);$e(p),_t(()=>vt(g,t())),me(d,p)};ut(h,d=>{Z(s).length===0&&t()&&d(c)})}me(n,u),is()}export{Bo as default};
